!function(){"use strict";angular.module("ngVkNewsfeedSearch",["ngRoute","ngAnimate","ngSanitize","angular-carousel"]).config(["$locationProvider","$routeProvider","$httpProvider",function(t,e,n){t.hashPrefix("!"),e.otherwise({redirectTo:"/"})}]).factory("Database",["$rootScope",function(t){return{query:"",nextFrom:"",groups:[],profiles:[],posts:[]}}]).factory("Alerts",function(){return{show:function(t){$("#alert-text").html(t),$("#alert").modal("toggle")}}}).factory("HTTP",["$rootScope",function(t){return{jsonp:function(e,n,o){$.ajax({url:e,type:"GET",dataType:"jsonp",crossDomain:!0,success:function(e){console.log("Url:",this.url),console.log("Response:",e),console.log("--------------------------"),t.$apply(function(){return 0===e.response.count?void o():void n(e)})}})}}}]).directive("ngEnterClick",function(){return function(t,e,n){e.bind("keydown keypress",function(e){13===e.which&&(t.$apply(function(){t.$eval(n.ngEnterClick)}),e.preventDefault())})}}).filter("getInfo",function(){return function(t,e,n,o){var r="user",a=t.from_id,c="";switch("-"==t.from_id.toString().charAt(0)&&(r="group",a=t.from_id.toString().substr(1)),r){case"user":"photo"===e&&(c=o[a].photo_50),"name"===e&&(c=o[a].first_name+" "+o[a].last_name);break;case"group":"photo"===e&&(c=n[a].photo_50),"name"===e&&(c=n[a].name)}return c}}).filter("replaceIDs",function(){return function(t){for(var e,n=/\[(group|club|id)(\d*)\|([a-zA-Z0-9А-Яа-я\s]+)\]/gi,o=t;null!==(e=n.exec(o));){e.index===n.lastIndex&&n.lastIndex++;var r,a,c,i;e.forEach(function(t,e,n){switch(e){case 0:r=t;break;case 1:a=t;break;case 2:c=t;break;case 3:i=t}}),o=o.replace(r,'<a href="https://www.vk.com/'+a+c+'" target="_blank">'+i+"</a>")}return o}}).filter("filterPostType",function(){return function(t,e){var n=[],o="photo";return e&&(o=e),t.forEach(function(t,e,r){t.type==o&&n.push(t)}),n}}).run(["$rootScope","$location","Database",function(t,e,n){t.$on("$routeChangeStart",function(t,o,r){0===n.posts.length&&e.path("/")})}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkcm91dGVQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJoYXNoUHJlZml4Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImZhY3RvcnkiLCIkcm9vdFNjb3BlIiwicXVlcnkiLCJuZXh0RnJvbSIsImdyb3VwcyIsInByb2ZpbGVzIiwicG9zdHMiLCJzaG93IiwidGV4dCIsIiQiLCJodG1sIiwibW9kYWwiLCJqc29ucCIsInVybCIsInN1Y2Nlc3NDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiY3Jvc3NEb21haW4iLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwidGhpcyIsIiRhcHBseSIsImNvdW50IiwiZGlyZWN0aXZlIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJiaW5kIiwiZXZlbnQiLCJ3aGljaCIsIiRldmFsIiwibmdFbnRlckNsaWNrIiwicHJldmVudERlZmF1bHQiLCJmaWx0ZXIiLCJpbnB1dCIsIm9iamVjdCIsImlkIiwiZnJvbV9pZCIsInRvU3RyaW5nIiwiY2hhckF0Iiwic3Vic3RyIiwicGhvdG9fNTAiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwibmFtZSIsIm0iLCJyZWdleCIsInN0ciIsImV4ZWMiLCJpbmRleCIsImxhc3RJbmRleCIsImZvclJlcGxhY2UiLCJ3b3JkIiwidGl0bGUiLCJmb3JFYWNoIiwiaXRlbSIsImkiLCJhcnIiLCJyZXBsYWNlIiwicmVzdWx0IiwiY3VycmVudFR5cGUiLCJwdXNoIiwicnVuIiwiJGxvY2F0aW9uIiwiRGF0YWJhc2UiLCIkb24iLCJuZXh0IiwiY3VycmVudCIsImxlbmd0aCIsInBhdGgiXSwibWFwcGluZ3MiOiJDQUdDLFdBQ0csWUFFQUEsU0FBUUMsT0FBTyxzQkFBdUIsVUFBVyxZQUFhLGFBQWMscUJB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OUQsTUFBTWtFLFFBQ2hCTCxFQUFVTSxLQUFNIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBydXN0YW1zYWlkb3Ygb24gMDIuMDMuMTcuXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nVmtOZXdzZmVlZFNlYXJjaCcsIFsnbmdSb3V0ZScsICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICdhbmd1bGFyLWNhcm91c2VsJ10pXG5cbiAgICAuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHJvdXRlUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlciwgJGh0dHBQcm92aWRlcikge1xuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiAnLyd9KTtcblxuICAgICAgICAvLyAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnVzZVhEb21haW4gPSB0cnVlO1xuICAgICAgICAvLyBkZWxldGUgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddO1xuICAgIH1dKVxuXG4gICAgLmZhY3RvcnkoJ0RhdGFiYXNlJywgWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBxdWVyeTogJycsXG4gICAgICAgICAgICBuZXh0RnJvbTogJycsXG4gICAgICAgICAgICBncm91cHM6IFtdLFxuICAgICAgICAgICAgcHJvZmlsZXM6IFtdLFxuICAgICAgICAgICAgcG9zdHM6IFtdXG4gICAgICAgIH07XG4gICAgfV0pXG4gICAgLmZhY3RvcnkoJ0FsZXJ0cycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAgICAgJChcIiNhbGVydC10ZXh0XCIpLmh0bWwodGV4dCk7XG4gICAgICAgICAgICAgICAgJCgnI2FsZXJ0JykubW9kYWwoJ3RvZ2dsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pXG5cbiAgICAuZmFjdG9yeSgnSFRUUCcsIFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAganNvbnA6IGZ1bmN0aW9uKHVybCwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VybDonLCB0aGlzLnVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2U6JywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ25nRW50ZXJDbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImtleWRvd24ga2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nRW50ZXJDbGljayk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0pXG4gICAgLmZpbHRlcignZ2V0SW5mbycsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIG9iamVjdCwgZ3JvdXBzLCBwcm9maWxlcykge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAndXNlcicsIGlkID0gaW5wdXQuZnJvbV9pZCwgcmVzcG9uc2UgPSAnJztcbiAgICAgICAgICAgIGlmIChpbnB1dC5mcm9tX2lkLnRvU3RyaW5nKCkuY2hhckF0KDApID09ICctJykge1xuICAgICAgICAgICAgICAgIHR5cGUgPSAnZ3JvdXAnO1xuICAgICAgICAgICAgICAgIGlkID0gaW5wdXQuZnJvbV9pZC50b1N0cmluZygpLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHR5cGUsIGlkLCBncm91cHMsIHByb2ZpbGVzKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSAncGhvdG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHByb2ZpbGVzW2lkXS5waG90b181MDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSAnbmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcHJvZmlsZXNbaWRdLmZpcnN0X25hbWUgKyAnICcgKyBwcm9maWxlc1tpZF0ubGFzdF9uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCA9PT0gJ3Bob3RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBncm91cHNbaWRdLnBob3RvXzUwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBncm91cHNbaWRdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5maWx0ZXIoJ3JlcGxhY2VJRHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgICAgICB2YXIgcmVnZXggPSAvXFxbKGdyb3VwfGNsdWJ8aWQpKFxcZCopXFx8KFthLXpBLVowLTnQkC3Qr9CwLdGPXFxzXSspXFxdL2dpO1xuICAgICAgICAgICAgdmFyIHN0ciA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIG07XG5cbiAgICAgICAgICAgIHdoaWxlICgobSA9IHJlZ2V4LmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcyB3aXRoIHplcm8td2lkdGggbWF0Y2hlc1xuICAgICAgICAgICAgICAgIGlmIChtLmluZGV4ID09PSByZWdleC5sYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3JSZXBsYWNlLCB3b3JkLCBpZCwgdGl0bGU7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgYG1gLXZhcmlhYmxlLlxuICAgICAgICAgICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpLCBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yUmVwbGFjZSA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBpdGVtOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gaXRlbTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShmb3JSZXBsYWNlLCAnPGEgaHJlZj1cImh0dHBzOi8vd3d3LnZrLmNvbS8nICsgd29yZCArIGlkICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyB0aXRsZSArICc8L2E+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8vIC5maWx0ZXIoJ25ld0xpbmVzJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLzxiclxccypcXC8/Pi9naSwnXFxyXFxuJyk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KVxuXG4gICAgLmZpbHRlcignZmlsdGVyUG9zdFR5cGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LHR5cGUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSwgY3VycmVudFR5cGUgPSAncGhvdG8nOyBcblxuICAgICAgICAgICAgaWYgKHR5cGUpIGN1cnJlbnRUeXBlID0gdHlwZTsgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBpbnB1dC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGksIGFycikge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gY3VycmVudFR5cGUpIHJlc3VsdC5wdXNoKGl0ZW0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIC5ydW4oIFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnRGF0YWJhc2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sIERhdGFiYXNlKSB7XG5cbiAgICAgICAgLy8gcmVnaXN0ZXIgbGlzdGVuZXIgdG8gd2F0Y2ggcm91dGUgY2hhbmdlc1xuICAgICAgICAkcm9vdFNjb3BlLiRvbiggXCIkcm91dGVDaGFuZ2VTdGFydFwiLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKCBEYXRhYmFzZS5wb3N0cy5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoIFwiL1wiICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9XSlcblxufSgpKTsiXX0=
