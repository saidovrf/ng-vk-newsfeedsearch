!function(){"use strict";angular.module("ngVkNewsfeedSearch",["ngRoute","ngAnimate","ngSanitize","angular-carousel"]).config(["$locationProvider","$routeProvider","$httpProvider",function(t,r,e){t.hashPrefix("!"),r.otherwise({redirectTo:"/"})}]).factory("Database",["$rootScope",function(t){return{query:"",nextFrom:"",groups:[],profiles:[],posts:[]}}]).filter("getInfo",function(){return function(t,r,e,o){var n="user",a=t.from_id,i="";switch("-"==t.from_id.toString().charAt(0)&&(n="group",a=t.from_id.toString().substr(1)),n){case"user":"photo"===r&&(i=o[a].photo_50),"name"===r&&(i=o[a].first_name+" "+o[a].last_name);break;case"group":"photo"===r&&(i=e[a].photo_50),"name"===r&&(i=e[a].name)}return i}}).filter("replaceIDs",function(){return function(t){for(var r,e=/\[(group|club|id)(\d*)\|([a-zA-Z0-9А-Яа-я\s]+)\]/gi,o=t;null!==(r=e.exec(o));){r.index===e.lastIndex&&e.lastIndex++;var n,a,i,u;r.forEach(function(t,r,e){switch(r){case 0:n=t;break;case 1:a=t;break;case 2:i=t;break;case 3:u=t}}),o=o.replace(n,'<a href="https://www.vk.com/'+a+i+'" target="_blank">'+u+"</a>")}return o}}).filter("filterPostType",function(){return function(t,r){var e=[],o="photo";return r&&(o=r),t.forEach(function(t,r,n){t.type==o&&e.push(t)}),e}}).run(["$rootScope","$location","Database",function(t,r,e){t.$on("$routeChangeStart",function(t,o,n){0===e.posts.length&&r.path("/")})}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkcm91dGVQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJoYXNoUHJlZml4Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImZhY3RvcnkiLCIkcm9vdFNjb3BlIiwicXVlcnkiLCJuZXh0RnJvbSIsImdyb3VwcyIsInByb2ZpbGVzIiwicG9zdHMiLCJmaWx0ZXIiLCJpbnB1dCIsIm9iamVjdCIsInR5cGUiLCJpZCIsImZyb21faWQiLCJyZXNwb25zZSIsInRvU3RyaW5nIiwiY2hhckF0Iiwic3Vic3RyIiwicGhvdG9fNTAiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwibmFtZSIsIm0iLCJyZWdleCIsInN0ciIsImV4ZWMiLCJpbmRleCIsImxhc3RJbmRleCIsImZvclJlcGxhY2UiLCJ3b3JkIiwidGl0bGUiLCJmb3JFYWNoIiwiaXRlbSIsImkiLCJhcnIiLCJyZXBsYWNlIiwicmVzdWx0IiwiY3VycmVudFR5cGUiLCJwdXNoIiwicnVuIiwiJGxvY2F0aW9uIiwiRGF0YWJhc2UiLCIkb24iLCJldmVudCIsIm5leHQiLCJjdXJyZW50IiwibGVuZ3RoIiwicGF0aCJdLCJtYXBwaW5ncyI6IkNBR0MsV0FDRyxZQUVBQSxTQUFRQyxPQUFPLHNCQUF1QixVQUFXLFlBQWEsYUFBYyxxQkFFM0VDLFFBQVEsb0JBQXFCLGlCQUFrQixnQkFBaUIsU0FBU0MsRUFBbUJDLEVBQWdCQyxHQUN6R0YsRUFBa0JHLFdBQVcsS0FFN0JGLEVBQWVHLFdBQVdDLFdBQVksU0FNekNDLFFBQVEsWUFBYSxhQUFjLFNBQVNDLEdBQ3pDLE9BQ0lDLE1BQU8sR0FDUEMsU0FBVSxHQUNWQyxVQUNBQyxZQUNBQyxhQUdQQyxPQUFPLFVBQVcsV0FDZixNQUFPLFVBQVNDLEVBQU9DLEVBQVFMLEVBQVFDLEdBQ25DLEdBQUlLLEdBQU8sT0FBUUMsRUFBS0gsRUFBTUksUUFBU0MsRUFBVyxFQU1sRCxRQUwwQyxLQUF0Q0wsRUFBTUksUUFBUUUsV0FBV0MsT0FBTyxLQUNoQ0wsRUFBTyxRQUNQQyxFQUFLSCxFQUFNSSxRQUFRRSxXQUFXRSxPQUFPLElBR2pDTixHQUNKLElBQUssT0FDYyxVQUFYRCxJQUNBSSxFQUFXUixFQUFTTSxHQUFJTSxVQUViLFNBQVhSLElBQ0FJLEVBQVdSLEVBQVNNLEdBQUlPLFdBQWEsSUFBTWIsRUFBU00sR0FBSVEsVUFFNUQsTUFDSixLQUFLLFFBQ2MsVUFBWFYsSUFDQUksRUFBV1QsRUFBT08sR0FBSU0sVUFFWCxTQUFYUixJQUNBSSxFQUFXVCxFQUFPTyxHQUFJUyxNQUlsQyxNQUFPUCxNQUdkTixPQUFPLGFBQWMsV0FDbEIsTUFBTyxVQUFTQyxHQUtaLElBSkEsR0FFSWEsR0FGQUMsRUFBUSxxREFDUkMsRUFBTWYsRUFHdUIsUUFBekJhLEVBQUlDLEVBQU1FLEtBQUtELEtBQWdCLENBRS9CRixFQUFFSSxRQUFVSCxFQUFNSSxXQUNsQkosRUFBTUksV0FFVixJQUFJQyxHQUFZQyxFQUFNakIsRUFBSWtCLENBRTFCUixHQUFFUyxRQUFRLFNBQVNDLEVBQU1DLEVBQUdDLEdBQ3hCLE9BQVFELEdBQ0osSUFBSyxHQUNETCxFQUFhSSxDQUFNLE1BQ3ZCLEtBQUssR0FDREgsRUFBT0csQ0FBTSxNQUNqQixLQUFLLEdBQ0RwQixFQUFLb0IsQ0FBTSxNQUNmLEtBQUssR0FDREYsRUFBUUUsS0FHcEJSLEVBQU1BLEVBQUlXLFFBQVFQLEVBQVksK0JBQWlDQyxFQUFPakIsRUFBSyxxQkFBdUJrQixFQUFRLFFBRTlHLE1BQU9OLE1BVWRoQixPQUFPLGlCQUFrQixXQUN0QixNQUFPLFVBQVNDLEVBQU1FLEdBQ2xCLEdBQUl5QixNQUFhQyxFQUFjLE9BUS9CLE9BTkkxQixLQUFNMEIsRUFBYzFCLEdBRXhCRixFQUFNc0IsUUFBUSxTQUFTQyxFQUFNQyxFQUFHQyxHQUN4QkYsRUFBS3JCLE1BQVEwQixHQUFhRCxFQUFPRSxLQUFLTixLQUd2Q0ksS0FJZEcsS0FBTSxhQUFjLFlBQWEsV0FBWSxTQUFTckMsRUFBWXNDLEVBQVdDLEdBRzFFdkMsRUFBV3dDLElBQUssb0JBQXFCLFNBQVNDLEVBQU9DLEVBQU1DLEdBQ3hCLElBQTFCSixFQUFTbEMsTUFBTXVDLFFBQ2hCTixFQUFVTyxLQUFNIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBydXN0YW1zYWlkb3Ygb24gMDIuMDMuMTcuXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ25nVmtOZXdzZmVlZFNlYXJjaCcsIFsnbmdSb3V0ZScsICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICdhbmd1bGFyLWNhcm91c2VsJ10pXG5cbiAgICAuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHJvdXRlUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlciwgJGh0dHBQcm92aWRlcikge1xuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiAnLyd9KTtcblxuICAgICAgICAvLyAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnVzZVhEb21haW4gPSB0cnVlO1xuICAgICAgICAvLyBkZWxldGUgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddO1xuICAgIH1dKVxuXG4gICAgLmZhY3RvcnkoJ0RhdGFiYXNlJywgWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBxdWVyeTogJycsXG4gICAgICAgICAgICBuZXh0RnJvbTogJycsXG4gICAgICAgICAgICBncm91cHM6IFtdLFxuICAgICAgICAgICAgcHJvZmlsZXM6IFtdLFxuICAgICAgICAgICAgcG9zdHM6IFtdXG4gICAgICAgIH07XG4gICAgfV0pXG4gICAgLmZpbHRlcignZ2V0SW5mbycsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIG9iamVjdCwgZ3JvdXBzLCBwcm9maWxlcykge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAndXNlcicsIGlkID0gaW5wdXQuZnJvbV9pZCwgcmVzcG9uc2UgPSAnJztcbiAgICAgICAgICAgIGlmIChpbnB1dC5mcm9tX2lkLnRvU3RyaW5nKCkuY2hhckF0KDApID09ICctJykge1xuICAgICAgICAgICAgICAgIHR5cGUgPSAnZ3JvdXAnO1xuICAgICAgICAgICAgICAgIGlkID0gaW5wdXQuZnJvbV9pZC50b1N0cmluZygpLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHR5cGUsIGlkLCBncm91cHMsIHByb2ZpbGVzKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSAncGhvdG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHByb2ZpbGVzW2lkXS5waG90b181MDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSAnbmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcHJvZmlsZXNbaWRdLmZpcnN0X25hbWUgKyAnICcgKyBwcm9maWxlc1tpZF0ubGFzdF9uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdCA9PT0gJ3Bob3RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBncm91cHNbaWRdLnBob3RvXzUwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBncm91cHNbaWRdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5maWx0ZXIoJ3JlcGxhY2VJRHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgICAgICB2YXIgcmVnZXggPSAvXFxbKGdyb3VwfGNsdWJ8aWQpKFxcZCopXFx8KFthLXpBLVowLTnQkC3Qr9CwLdGPXFxzXSspXFxdL2dpO1xuICAgICAgICAgICAgdmFyIHN0ciA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIG07XG5cbiAgICAgICAgICAgIHdoaWxlICgobSA9IHJlZ2V4LmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcyB3aXRoIHplcm8td2lkdGggbWF0Y2hlc1xuICAgICAgICAgICAgICAgIGlmIChtLmluZGV4ID09PSByZWdleC5sYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3JSZXBsYWNlLCB3b3JkLCBpZCwgdGl0bGU7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgYG1gLXZhcmlhYmxlLlxuICAgICAgICAgICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpLCBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yUmVwbGFjZSA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBpdGVtOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gaXRlbTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShmb3JSZXBsYWNlLCAnPGEgaHJlZj1cImh0dHBzOi8vd3d3LnZrLmNvbS8nICsgd29yZCArIGlkICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyB0aXRsZSArICc8L2E+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8vIC5maWx0ZXIoJ25ld0xpbmVzJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLzxiclxccypcXC8/Pi9naSwnXFxyXFxuJyk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KVxuXG4gICAgLmZpbHRlcignZmlsdGVyUG9zdFR5cGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LHR5cGUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSwgY3VycmVudFR5cGUgPSAncGhvdG8nOyBcblxuICAgICAgICAgICAgaWYgKHR5cGUpIGN1cnJlbnRUeXBlID0gdHlwZTsgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBpbnB1dC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGksIGFycikge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gY3VycmVudFR5cGUpIHJlc3VsdC5wdXNoKGl0ZW0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIC5ydW4oIFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnRGF0YWJhc2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sIERhdGFiYXNlKSB7XG5cbiAgICAgICAgLy8gcmVnaXN0ZXIgbGlzdGVuZXIgdG8gd2F0Y2ggcm91dGUgY2hhbmdlc1xuICAgICAgICAkcm9vdFNjb3BlLiRvbiggXCIkcm91dGVDaGFuZ2VTdGFydFwiLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKCBEYXRhYmFzZS5wb3N0cy5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoIFwiL1wiICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9XSlcblxufSgpKTsiXX0=
