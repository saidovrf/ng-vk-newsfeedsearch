!function(e,r){"use strict";function t(e,r){if(u(e)){r=r||[];for(var t=0,n=e.length;t<n;t++)r[t]=e[t]}else if(s(e)){r=r||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(r[a]=e[a])}return r||e}function n(){function e(e,t){return r.extend(Object.create(e),t)}function n(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,r,t,n){var i="?"===n||"*?"===n?"?":null,o="*"===n||"*?"===n?"*":null;return a.push({name:t,optional:!!i}),r=r||"",""+(i?"":r)+"(?:"+(i?r:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}u=r.isArray,s=r.isObject,l=r.isDefined,f=r.noop;var a={};this.when=function(e,i){var o=t(i);if(r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),a[e]=r.extend(o,e&&n(e,o)),e){var c="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";a[c]=r.extend({redirectTo:e},n(c,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},h=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(h=e,this):h},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(t,n,i,o,c,u,s,l){function h(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;i<o;++i){var c=t[i-1],u=a[i];c&&u&&(n[c.name]=u)}return n}function d(e){var n=y.current;R=C(),x=R&&n&&R.$$route===n.$$route&&r.equals(R.pathParams,n.pathParams)&&!R.reloadOnSearch&&!S,x||!n&&!R||t.$broadcast("$routeChangeStart",R,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=y.current,n=R;if(x)e.params=n.params,r.copy(e.params,i),t.$broadcast("$routeUpdate",e);else if(n||e){S=!1,y.current=n;var a=o.resolve(n);l.$$incOutstandingRequestCount(),a.then(v).then(g).then(function(o){return o&&a.then(m).then(function(a){n===y.current&&(n&&(n.locals=a,r.copy(n.params,i)),t.$broadcast("$routeChangeSuccess",n,e))})}).catch(function(r){n===y.current&&t.$broadcast("$routeChangeError",n,e,r)}).finally(function(){l.$$completeOutstandingRequest(f)})}}function v(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(r.isString(e.redirectTo))t.path=P(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var a=n.path(),i=n.search(),u=e.redirectTo(e.pathParams,a,i);r.isDefined(u)&&(t.url=u,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return r.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function g(e){var r=!0;if(e.route!==y.current)r=!1;else if(e.hasRedirection){var t=n.url(),a=e.url;a?n.url(a).replace():a=n.path(e.path).search(e.search).replace().url(),a!==t&&(r=!1)}return r}function m(e){if(e){var t=r.extend({},e.resolve);r.forEach(t,function(e,n){t[n]=r.isString(e)?c.get(e):c.invoke(e,null,null,n)});var n=w(e);return r.isDefined(n)&&(t.$template=n),o.all(t)}}function w(e){var t,n;return r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),r.isDefined(n)&&(e.loadedTemplateUrl=s.valueOf(n),t=u(n))),t}function C(){var t,i;return r.forEach(a,function(a,o){!i&&(t=h(n.path(),a))&&(i=e(a,{params:r.extend({},n.search(),t),pathParams:t}),i.$$route=a)}),i||a[null]&&e(a[null],{params:{},pathParams:{}})}function P(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];n.push(t[i]),n.push(a[2]||""),delete t[i]}}),n.join("")}var R,x,S=!1,y={routes:a,reload:function(){S=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,S=!1}};t.$evalAsync(function(){d(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw $("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),n.path(P(this.current.$$route.originalPath,e)),n.search(e)}};return t.$on("$locationChangeStart",d),t.$on("$locationChangeSuccess",p),y}]}function a(e){h&&e.get("$route")}function i(){this.$get=function(){return{}}}function o(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function s(){d&&(n.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=n.leave(h),d.done(function(e){e!==!1&&(d=null)}),h=null)}function l(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var l=a.$new(),d=e.current,v=u(l,function(e){n.enter(e,null,h||i).done(function(e){e===!1||!r.isDefined($)||$&&!a.$eval($)||t()}),s()});h=v,f=d.scope=l,f.$emit("$viewContentLoaded"),f.$eval(p)}else s()}var f,h,d,$=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",l),l()}}}function c(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);i.controllerAs&&(n[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}n[i.resolveAs||"$resolve"]=o,c(n)}}}var u,s,l,f,h,d=r.module("ngRoute",[]).provider("$route",n).run(a),$=r.$$minErr("ngRoute");a.$inject=["$injector"],d.provider("$routeParams",i),d.directive("ngView",o),d.directive("ngView",c),o.$inject=["$route","$anchorScroll","$animate"],c.$inject=["$compile","$controller","$route"]}(window,window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvcnMvYW5ndWxhci1yb3V0ZS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhbmd1bGFyIiwic2hhbGxvd0NvcHkiLCJzcmMiLCJkc3QiLCJpc0FycmF5IiwiaSIsImlpIiwibGVuZ3RoIiwiaXNPYmplY3QiLCJrZXkiLCJjaGFyQXQiLCIkUm91dGVQcm92aWRlciIsImluaGVyaXQiLCJwYXJlbnQiLCJleHRyYSIsImV4dGVuZCIsIk9iamVjdCIsImNyZWF0ZSIsInBhdGhSZWdFeHAiLCJwYXRoIiwib3B0cyIsImluc2Vuc2l0aXZlIiwiY2FzZUluc2Vuc2l0aXZlTWF0Y2giLCJyZXQiLCJvcmlnaW5hbFBhdGgiLCJyZWdleHAiLCJrZXlzIiwicmVwbGFjZSIsIl8iLCJzbGFzaCIsIm9wdGlvbiIsIm9wdGlvbmFsIiwic3RhciIsInB1c2giLCJuYW1lIiwiUmVnRXhwIiwiaXNEZWZpbmVkIiwibm9vcCIsInJvdXRlcyIsInRoaXMiLCJ3aGVuIiwicm91dGUiLCJyb3V0ZUNvcHkiLCJpc1VuZGVmaW5lZCIsInJlbG9hZE9uU2VhcmNoIiwicmVkaXJlY3RQYXRoIiwic3Vic3RyIiwicmVkaXJlY3RUbyIsIm90aGVyd2lzZSIsInBhcmFtcyIsImlzRWFnZXJJbnN0YW50aWF0aW9uRW5hYmxlZCIsImVhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWQiLCJlbmFibGVkIiwiJGdldCIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCIkcm91dGVQYXJhbXMiLCIkcSIsIiRpbmplY3RvciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkc2NlIiwiJGJyb3dzZXIiLCJzd2l0Y2hSb3V0ZU1hdGNoZXIiLCJvbiIsIm0iLCJleGVjIiwibGVuIiwidmFsIiwicHJlcGFyZVJvdXRlIiwiJGxvY2F0aW9uRXZlbnQiLCJsYXN0Um91dGUiLCIkcm91dGUiLCJjdXJyZW50IiwicHJlcGFyZWRSb3V0ZSIsInBhcnNlUm91dGUiLCJwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5IiwiJCRyb3V0ZSIsImVxdWFscyIsInBhdGhQYXJhbXMiLCJmb3JjZVJlbG9hZCIsIiRicm9hZGNhc3QiLCJkZWZhdWx0UHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJjb21taXRSb3V0ZSIsIm5leHRSb3V0ZSIsImNvcHkiLCJuZXh0Um91dGVQcm9taXNlIiwicmVzb2x2ZSIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJ0aGVuIiwiZ2V0UmVkaXJlY3Rpb25EYXRhIiwiaGFuZGxlUG9zc2libGVSZWRpcmVjdGlvbiIsImtlZXBQcm9jZXNzaW5nUm91dGUiLCJyZXNvbHZlTG9jYWxzIiwibG9jYWxzIiwiY2F0Y2giLCJlcnJvciIsImZpbmFsbHkiLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0IiwiZGF0YSIsImhhc1JlZGlyZWN0aW9uIiwiaXNTdHJpbmciLCJpbnRlcnBvbGF0ZSIsInNlYXJjaCIsIm9sZFBhdGgiLCJvbGRTZWFyY2giLCJuZXdVcmwiLCJ1cmwiLCJyZXNvbHZlUmVkaXJlY3RUbyIsImludm9rZSIsIm9sZFVybCIsImZvckVhY2giLCJ2YWx1ZSIsImdldCIsInRlbXBsYXRlIiwiZ2V0VGVtcGxhdGVGb3IiLCJhbGwiLCJ0ZW1wbGF0ZVVybCIsImlzRnVuY3Rpb24iLCJsb2FkZWRUZW1wbGF0ZVVybCIsInZhbHVlT2YiLCJtYXRjaCIsInN0cmluZyIsInJlc3VsdCIsInNwbGl0Iiwic2VnbWVudCIsInNlZ21lbnRNYXRjaCIsImpvaW4iLCJyZWxvYWQiLCJmYWtlTG9jYXRpb25FdmVudCIsIiRldmFsQXN5bmMiLCJ1cGRhdGVQYXJhbXMiLCJuZXdQYXJhbXMiLCIkcm91dGVNaW5FcnIiLCIkb24iLCJpbnN0YW50aWF0ZVJvdXRlIiwiJFJvdXRlUGFyYW1zUHJvdmlkZXIiLCJuZ1ZpZXdGYWN0b3J5IiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIiwicmVzdHJpY3QiLCJ0ZXJtaW5hbCIsInByaW9yaXR5IiwidHJhbnNjbHVkZSIsImxpbmsiLCJzY29wZSIsIiRlbGVtZW50IiwiYXR0ciIsImN0cmwiLCIkdHJhbnNjbHVkZSIsImNsZWFudXBMYXN0VmlldyIsInByZXZpb3VzTGVhdmVBbmltYXRpb24iLCJjYW5jZWwiLCJjdXJyZW50U2NvcGUiLCIkZGVzdHJveSIsImN1cnJlbnRFbGVtZW50IiwibGVhdmUiLCJkb25lIiwicmVzcG9uc2UiLCJ1cGRhdGUiLCIkdGVtcGxhdGUiLCJuZXdTY29wZSIsIiRuZXciLCJjbG9uZSIsImVudGVyIiwiYXV0b1Njcm9sbEV4cCIsIiRldmFsIiwiJGVtaXQiLCJvbmxvYWRFeHAiLCJhdXRvc2Nyb2xsIiwib25sb2FkIiwibmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5IiwiJGNvbXBpbGUiLCIkY29udHJvbGxlciIsImh0bWwiLCJjb250ZW50cyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJjb250cm9sbGVyQXMiLCJjaGlsZHJlbiIsInJlc29sdmVBcyIsIm5nUm91dGVNb2R1bGUiLCJtb2R1bGUiLCJwcm92aWRlciIsInJ1biIsIiQkbWluRXJyIiwiJGluamVjdCIsImRpcmVjdGl2ZSJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBVUEsRUFBUUMsR0FBVSxZQVN4QixTQUFTQyxHQUFZQyxFQUFLQyxHQUN0QixHQUFJQyxFQUFRRixHQUFNLENBQ2RDLEVBQU1BLEtBRU4sS0FBSyxHQUFJRSxHQUFJLEVBQUdDLEVBQUtKLEVBQUlLLE9BQVFGLEVBQUlDLEVBQUlELElBQ3JDRixFQUFJRSxHQUFLSCxFQUFJRyxPQUVkLElBQUlHLEVBQVNOLEdBQU0sQ0FDdEJDLEVBQU1BLEtBRU4sS0FBSyxHQUFJTSxLQUFPUCxHQUNZLE1BQWxCTyxFQUFJQyxPQUFPLElBQWdDLE1BQWxCRCxFQUFJQyxPQUFPLEtBQ3RDUCxFQUFJTSxHQUFPUCxFQUFJTyxJQUszQixNQUFPTixJQUFPRCxFQXNEbEIsUUFBU1MsS0FNTCxRQUFTQyxHQUFRQyxFQUFRQyxHQUNyQixNQUFPZCxHQUFRZSxPQUFPQyxPQUFPQyxPQUFPSixHQUFTQyxHQW1NakQsUUFBU0ksR0FBV0MsRUFB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LGNBQ1BDLFNBQVMsU0FBVTVLLEdBSW5CNkssSUFBSWpELEdBQ0FGLEVBQWVySSxFQUFReUwsU0FBUyxVQTJ6QnBDbEQsR0FBaUJtRCxTQUFXLGFBUTVCTCxFQUFjRSxTQUFTLGVBQWdCL0MsR0F5Q3ZDNkMsRUFBY00sVUFBVSxTQUFVbEQsR0FDbEM0QyxFQUFjTSxVQUFVLFNBQVVoQixHQWlMbENsQyxFQUFjaUQsU0FBVyxTQUFVLGdCQUFpQixZQTZFcERmLEVBQXlCZSxTQUFXLFdBQVksY0FBZSxXQThCaEUzTCxPQUFRQSxPQUFPQyIsImZpbGUiOiJ2ZW5kb3JzL2FuZ3VsYXItcm91dGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS42LjJcbiAqIChjKSAyMDEwLTIwMTcgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhcikgeyd1c2Ugc3RyaWN0JztcblxuICAgIC8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY29weSBvZiBhbiBvYmplY3QsIGFuIGFycmF5IG9yIGEgcHJpbWl0aXZlLlxuICAgICAqXG4gICAgICogQXNzdW1lcyB0aGF0IHRoZXJlIGFyZSBubyBwcm90byBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gICAgICAgIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICAgICAgICAgIGRzdCA9IGRzdCB8fCBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkc3RbaV0gPSBzcmNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xuICAgICAgICAgICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZHN0IHx8IHNyYztcbiAgICB9XG5cbiAgICAvKiBnbG9iYWwgc2hhbGxvd0NvcHk6IGZhbHNlICovXG5cbi8vIGBpc0FycmF5YCBhbmQgYGlzT2JqZWN0YCBhcmUgbmVjZXNzYXJ5IGZvciBgc2hhbGxvd0NvcHkoKWAgKGluY2x1ZGVkIHZpYSBgc3JjL3NoYWxsb3dDb3B5LmpzYCkuXG4vLyBUaGV5IGFyZSBpbml0aWFsaXplZCBpbnNpZGUgdGhlIGAkUm91dGVQcm92aWRlcmAsIHRvIGVuc3VyZSBgd2luZG93LmFuZ3VsYXJgIGlzIGF2YWlsYWJsZS5cbiAgICB2YXIgaXNBcnJheTtcbiAgICB2YXIgaXNPYmplY3Q7XG4gICAgdmFyIGlzRGVmaW5lZDtcbiAgICB2YXIgbm9vcDtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtb2R1bGVcbiAgICAgKiBAbmFtZSBuZ1JvdXRlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiAjIG5nUm91dGVcbiAgICAgKlxuICAgICAqIFRoZSBgbmdSb3V0ZWAgbW9kdWxlIHByb3ZpZGVzIHJvdXRpbmcgYW5kIGRlZXBsaW5raW5nIHNlcnZpY2VzIGFuZCBkaXJlY3RpdmVzIGZvciBhbmd1bGFyIGFwcHMuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlXG4gICAgICogU2VlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSNleGFtcGxlICRyb3V0ZX0gZm9yIGFuIGV4YW1wbGUgb2YgY29uZmlndXJpbmcgYW5kIHVzaW5nIGBuZ1JvdXRlYC5cbiAgICAgKlxuICAgICAqXG4gICAgICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1JvdXRlXCI+PC9kaXY+XG4gICAgICovXG4gICAgLyogZ2xvYmFsIC1uZ1JvdXRlTW9kdWxlICovXG4gICAgdmFyIG5nUm91dGVNb2R1bGUgPSBhbmd1bGFyLlxuICAgIG1vZHVsZSgnbmdSb3V0ZScsIFtdKS5cbiAgICBwcm92aWRlcignJHJvdXRlJywgJFJvdXRlUHJvdmlkZXIpLlxuICAgIC8vIEVuc3VyZSBgJHJvdXRlYCB3aWxsIGJlIGluc3RhbnRpYXRlZCBpbiB0aW1lIHRvIGNhcHR1cmUgdGhlIGluaXRpYWwgYCRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NgXG4gICAgLy8gZXZlbnQgKHVubGVzcyBleHBsaWNpdGx5IGRpc2FibGVkKS4gVGhpcyBpcyBuZWNlc3NhcnkgaW4gY2FzZSBgbmdWaWV3YCBpcyBpbmNsdWRlZCBpbiBhblxuICAgIC8vIGFzeW5jaHJvbm91c2x5IGxvYWRlZCB0ZW1wbGF0ZS5cbiAgICBydW4oaW5zdGFudGlhdGVSb3V0ZSk7XG4gICAgdmFyICRyb3V0ZU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJ25nUm91dGUnKTtcbiAgICB2YXIgaXNFYWdlckluc3RhbnRpYXRpb25FbmFibGVkO1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvdmlkZXJcbiAgICAgKiBAbmFtZSAkcm91dGVQcm92aWRlclxuICAgICAqIEB0aGlzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHJvdXRlcy5cbiAgICAgKlxuICAgICAqICMjIEV4YW1wbGVcbiAgICAgKiBTZWUge0BsaW5rIG5nUm91dGUuJHJvdXRlI2V4YW1wbGUgJHJvdXRlfSBmb3IgYW4gZXhhbXBsZSBvZiBjb25maWd1cmluZyBhbmQgdXNpbmcgYG5nUm91dGVgLlxuICAgICAqXG4gICAgICogIyMgRGVwZW5kZW5jaWVzXG4gICAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1JvdXRlIGBuZ1JvdXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAkUm91dGVQcm92aWRlcigpIHtcbiAgICAgICAgaXNBcnJheSA9IGFuZ3VsYXIuaXNBcnJheTtcbiAgICAgICAgaXNPYmplY3QgPSBhbmd1bGFyLmlzT2JqZWN0O1xuICAgICAgICBpc0RlZmluZWQgPSBhbmd1bGFyLmlzRGVmaW5lZDtcbiAgICAgICAgbm9vcCA9IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICBmdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByb3V0ZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciN3aGVuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFJvdXRlIHBhdGggKG1hdGNoZWQgYWdhaW5zdCBgJGxvY2F0aW9uLnBhdGhgKS4gSWYgYCRsb2NhdGlvbi5wYXRoYFxuICAgICAgICAgKiAgICBjb250YWlucyByZWR1bmRhbnQgdHJhaWxpbmcgc2xhc2ggb3IgaXMgbWlzc2luZyBvbmUsIHRoZSByb3V0ZSB3aWxsIHN0aWxsIG1hdGNoIGFuZCB0aGVcbiAgICAgICAgICogICAgYCRsb2NhdGlvbi5wYXRoYCB3aWxsIGJlIHVwZGF0ZWQgdG8gYWRkIG9yIGRyb3AgdGhlIHRyYWlsaW5nIHNsYXNoIHRvIGV4YWN0bHkgbWF0Y2ggdGhlXG4gICAgICAgICAqICAgIHJvdXRlIGRlZmluaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICogYHBhdGhgIGNhbiBjb250YWluIG5hbWVkIGdyb3VwcyBzdGFydGluZyB3aXRoIGEgY29sb246IGUuZy4gYDpuYW1lYC4gQWxsIGNoYXJhY3RlcnMgdXBcbiAgICAgICAgICogICAgICAgIHRvIHRoZSBuZXh0IHNsYXNoIGFyZSBtYXRjaGVkIGFuZCBzdG9yZWQgaW4gYCRyb3V0ZVBhcmFtc2AgdW5kZXIgdGhlIGdpdmVuIGBuYW1lYFxuICAgICAgICAgKiAgICAgICAgd2hlbiB0aGUgcm91dGUgbWF0Y2hlcy5cbiAgICAgICAgICogICAgKiBgcGF0aGAgY2FuIGNvbnRhaW4gbmFtZWQgZ3JvdXBzIHN0YXJ0aW5nIHdpdGggYSBjb2xvbiBhbmQgZW5kaW5nIHdpdGggYSBzdGFyOlxuICAgICAgICAgKiAgICAgICAgZS5nLmA6bmFtZSpgLiBBbGwgY2hhcmFjdGVycyBhcmUgZWFnZXJseSBzdG9yZWQgaW4gYCRyb3V0ZVBhcmFtc2AgdW5kZXIgdGhlIGdpdmVuIGBuYW1lYFxuICAgICAgICAgKiAgICAgICAgd2hlbiB0aGUgcm91dGUgbWF0Y2hlcy5cbiAgICAgICAgICogICAgKiBgcGF0aGAgY2FuIGNvbnRhaW4gb3B0aW9uYWwgbmFtZWQgZ3JvdXBzIHdpdGggYSBxdWVzdGlvbiBtYXJrOiBlLmcuYDpuYW1lP2AuXG4gICAgICAgICAqXG4gICAgICAgICAqICAgIEZvciBleGFtcGxlLCByb3V0ZXMgbGlrZSBgL2NvbG9yLzpjb2xvci9sYXJnZWNvZGUvOmxhcmdlY29kZSpcXC9lZGl0YCB3aWxsIG1hdGNoXG4gICAgICAgICAqICAgIGAvY29sb3IvYnJvd24vbGFyZ2Vjb2RlL2NvZGUvd2l0aC9zbGFzaGVzL2VkaXRgIGFuZCBleHRyYWN0OlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAqIGBjb2xvcjogYnJvd25gXG4gICAgICAgICAqICAgICogYGxhcmdlY29kZTogY29kZS93aXRoL3NsYXNoZXNgLlxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcm91dGUgTWFwcGluZyBpbmZvcm1hdGlvbiB0byBiZSBhc3NpZ25lZCB0byBgJHJvdXRlLmN1cnJlbnRgIG9uIHJvdXRlXG4gICAgICAgICAqICAgIG1hdGNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICBPYmplY3QgcHJvcGVydGllczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgLSBgY29udHJvbGxlcmAg0LLQguKAnCBgeyhzdHJpbmd8RnVuY3Rpb24pPX1gINCy0ILigJwgQ29udHJvbGxlciBmbiB0aGF0IHNob3VsZCBiZSBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgICogICAgICBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXIgcmVnaXN0ZXJlZFxuICAgKiAgICAgIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy5cbiAgICAgICAgICogICAgLSBgY29udHJvbGxlckFzYCDQstCC4oCcIGB7c3RyaW5nPX1gINCy0ILigJwgQW4gaWRlbnRpZmllciBuYW1lIGZvciBhIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlci5cbiAgICAgICAgICogICAgICBJZiBwcmVzZW50LCB0aGUgY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCB0byBzY29wZSB1bmRlciB0aGUgYGNvbnRyb2xsZXJBc2AgbmFtZS5cbiAgICAgICAgICogICAgLSBgdGVtcGxhdGVgINCy0ILigJwgYHsoc3RyaW5nfEZ1bmN0aW9uKT19YCDQstCC4oCcIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XG4gICAgICAgICAqICAgICAgcmV0dXJucyBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGJ5IHtAbGlua1xuICAgICAgICAgICAgKiAgICAgIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBuZ1ZpZXd9IG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIG5nSW5jbHVkZX0gZGlyZWN0aXZlcy5cbiAgICAgICAgICogICAgICBUaGlzIHByb3BlcnR5IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgdGVtcGxhdGVVcmxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgLSBge0FycmF5LjxPYmplY3Q+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICBPbmUgb2YgYHRlbXBsYXRlYCBvciBgdGVtcGxhdGVVcmxgIGlzIHJlcXVpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAtIGB0ZW1wbGF0ZVVybGAg0LLQguKAnCBgeyhzdHJpbmd8RnVuY3Rpb24pPX1gINCy0ILigJwgcGF0aCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoIHRvIGFuIGh0bWxcbiAgICAgICAgICogICAgICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fS5cbiAgICAgICAgICpcbiAgICAgICAgICogICAgICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIC0gYHtBcnJheS48T2JqZWN0Pn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudFxuICAgICAgICAgKiAgICAgICAgYCRsb2NhdGlvbi5wYXRoKClgIGJ5IGFwcGx5aW5nIHRoZSBjdXJyZW50IHJvdXRlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgT25lIG9mIGB0ZW1wbGF0ZVVybGAgb3IgYHRlbXBsYXRlYCBpcyByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogICAgLSBgcmVzb2x2ZWAgLSBge09iamVjdC48c3RyaW5nLCBGdW5jdGlvbj49fWAgLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoIHNob3VsZFxuICAgICAgICAgKiAgICAgIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuIElmIGFueSBvZiB0aGVzZSBkZXBlbmRlbmNpZXMgYXJlIHByb21pc2VzLCB0aGUgcm91dGVyXG4gICAgICAgICAqICAgICAgd2lsbCB3YWl0IGZvciB0aGVtIGFsbCB0byBiZSByZXNvbHZlZCBvciBvbmUgdG8gYmUgcmVqZWN0ZWQgYmVmb3JlIHRoZSBjb250cm9sbGVyIGlzXG4gICAgICAgICAqICAgICAgaW5zdGFudGlhdGVkLlxuICAgICAgICAgKiAgICAgIElmIGFsbCB0aGUgcHJvbWlzZXMgYXJlIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgdGhlIHZhbHVlcyBvZiB0aGUgcmVzb2x2ZWQgcHJvbWlzZXMgYXJlXG4gICAgICAgICAqICAgICAgaW5qZWN0ZWQgYW5kIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSMkcm91dGVDaGFuZ2VTdWNjZXNzICRyb3V0ZUNoYW5nZVN1Y2Nlc3N9IGV2ZW50IGlzXG4gICAgICAgICAqICAgICAgZmlyZWQuIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIHJlamVjdGVkIHRoZVxuICAgICAgICAgKiAgICAgIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSMkcm91dGVDaGFuZ2VFcnJvciAkcm91dGVDaGFuZ2VFcnJvcn0gZXZlbnQgaXMgZmlyZWQuXG4gICAgICAgICAqICAgICAgRm9yIGVhc2llciBhY2Nlc3MgdG8gdGhlIHJlc29sdmVkIGRlcGVuZGVuY2llcyBmcm9tIHRoZSB0ZW1wbGF0ZSwgdGhlIGByZXNvbHZlYCBtYXAgd2lsbFxuICAgICAgICAgKiAgICAgIGJlIGF2YWlsYWJsZSBvbiB0aGUgc2NvcGUgb2YgdGhlIHJvdXRlLCB1bmRlciBgJHJlc29sdmVgIChieSBkZWZhdWx0KSBvciBhIGN1c3RvbSBuYW1lXG4gICAgICAgICAqICAgICAgc3BlY2lmaWVkIGJ5IHRoZSBgcmVzb2x2ZUFzYCBwcm9wZXJ0eSAoc2VlIGJlbG93KS4gVGhpcyBjYW4gYmUgcGFydGljdWxhcmx5IHVzZWZ1bCwgd2hlblxuICAgICAgICAgKiAgICAgIHdvcmtpbmcgd2l0aCB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29tcG9uZW50IGNvbXBvbmVudHN9IGFzIHJvdXRlIHRlbXBsYXRlcy48YnIgLz5cbiAgICAgICAgICogICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgICAgKiAgICAgICAgKipOb3RlOioqIElmIHlvdXIgc2NvcGUgYWxyZWFkeSBjb250YWlucyBhIHByb3BlcnR5IHdpdGggdGhpcyBuYW1lLCBpdCB3aWxsIGJlIGhpZGRlblxuICAgICAgICAgKiAgICAgICAgb3Igb3ZlcndyaXR0ZW4uIE1ha2Ugc3VyZSwgeW91IHNwZWNpZnkgYW4gYXBwcm9wcmlhdGUgbmFtZSBmb3IgdGhpcyBwcm9wZXJ0eSwgdGhhdFxuICAgICAgICAgKiAgICAgICAgZG9lcyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlLlxuICAgICAgICAgKiAgICAgIDwvZGl2PlxuICAgICAgICAgKiAgICAgIFRoZSBtYXAgb2JqZWN0IGlzOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIC0gYGtleWAg0LLQguKAnCBge3N0cmluZ31gOiBhIG5hbWUgb2YgYSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuXG4gICAgICAgICAqICAgICAgLSBgZmFjdG9yeWAgLSBge3N0cmluZ3xGdW5jdGlvbn1gOiBJZiBgc3RyaW5nYCB0aGVuIGl0IGlzIGFuIGFsaWFzIGZvciBhIHNlcnZpY2UuXG4gICAgICAgICAqICAgICAgICBPdGhlcndpc2UgaWYgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH1cbiAgICAgICAgICogICAgICAgIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIHRyZWF0ZWQgYXMgdGhlIGRlcGVuZGVuY3kuIElmIHRoZSByZXN1bHQgaXMgYSBwcm9taXNlLCBpdCBpc1xuICAgICAgICAgKiAgICAgICAgcmVzb2x2ZWQgYmVmb3JlIGl0cyB2YWx1ZSBpcyBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBCZSBhd2FyZSB0aGF0XG4gICAgICAgICAqICAgICAgICBgbmdSb3V0ZS4kcm91dGVQYXJhbXNgIHdpbGwgc3RpbGwgcmVmZXIgdG8gdGhlIHByZXZpb3VzIHJvdXRlIHdpdGhpbiB0aGVzZSByZXNvbHZlXG4gICAgICAgICAqICAgICAgICBmdW5jdGlvbnMuICBVc2UgYCRyb3V0ZS5jdXJyZW50LnBhcmFtc2AgdG8gYWNjZXNzIHRoZSBuZXcgcm91dGUgcGFyYW1ldGVycywgaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogICAgLSBgcmVzb2x2ZUFzYCAtIGB7c3RyaW5nPX1gIC0gVGhlIG5hbWUgdW5kZXIgd2hpY2ggdGhlIGByZXNvbHZlYCBtYXAgd2lsbCBiZSBhdmFpbGFibGUgb25cbiAgICAgICAgICogICAgICB0aGUgc2NvcGUgb2YgdGhlIHJvdXRlLiBJZiBvbWl0dGVkLCBkZWZhdWx0cyB0byBgJHJlc29sdmVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAtIGByZWRpcmVjdFRvYCDQstCC4oCcIGB7KHN0cmluZ3xGdW5jdGlvbik9fWAg0LLQguKAnCB2YWx1ZSB0byB1cGRhdGVcbiAgICAgICAgICogICAgICB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbn0gcGF0aCB3aXRoIGFuZCB0cmlnZ2VyIHJvdXRlIHJlZGlyZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIElmIGByZWRpcmVjdFRvYCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAtIGB7T2JqZWN0LjxzdHJpbmc+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGUgdGVtcGxhdGVVcmwuXG4gICAgICAgICAqICAgICAgLSBge3N0cmluZ31gIC0gY3VycmVudCBgJGxvY2F0aW9uLnBhdGgoKWBcbiAgICAgICAgICogICAgICAtIGB7T2JqZWN0fWAgLSBjdXJyZW50IGAkbG9jYXRpb24uc2VhcmNoKClgXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgVGhlIGN1c3RvbSBgcmVkaXJlY3RUb2AgZnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgc3RyaW5nIHdoaWNoIHdpbGwgYmUgdXNlZFxuICAgICAgICAgKiAgICAgIHRvIHVwZGF0ZSBgJGxvY2F0aW9uLnVybCgpYC4gSWYgdGhlIGZ1bmN0aW9uIHRocm93cyBhbiBlcnJvciwgbm8gZnVydGhlciBwcm9jZXNzaW5nIHdpbGxcbiAgICAgICAgICogICAgICB0YWtlIHBsYWNlIGFuZCB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlIyRyb3V0ZUNoYW5nZUVycm9yICRyb3V0ZUNoYW5nZUVycm9yfSBldmVudCB3aWxsXG4gICAgICAgICAqICAgICAgYmUgZmlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgUm91dGVzIHRoYXQgc3BlY2lmeSBgcmVkaXJlY3RUb2Agd2lsbCBub3QgaGF2ZSB0aGVpciBjb250cm9sbGVycywgdGVtcGxhdGUgZnVuY3Rpb25zXG4gICAgICAgICAqICAgICAgb3IgcmVzb2x2ZXMgY2FsbGVkLCB0aGUgYCRsb2NhdGlvbmAgd2lsbCBiZSBjaGFuZ2VkIHRvIHRoZSByZWRpcmVjdCB1cmwgYW5kIHJvdXRlXG4gICAgICAgICAqICAgICAgcHJvY2Vzc2luZyB3aWxsIHN0b3AuIFRoZSBleGNlcHRpb24gdG8gdGhpcyBpcyBpZiB0aGUgYHJlZGlyZWN0VG9gIGlzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAgICAgKiAgICAgIHJldHVybnMgYHVuZGVmaW5lZGAuIEluIHRoaXMgY2FzZSB0aGUgcm91dGUgdHJhbnNpdGlvbiBvY2N1cnMgYXMgdGhvdWdoIHRoZXJlIHdhcyBub1xuICAgICAgICAgKiAgICAgIHJlZGlyZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAtIGByZXNvbHZlUmVkaXJlY3RUb2Ag0LLQguKAnCBge0Z1bmN0aW9uPX1gINCy0ILigJwgYSBmdW5jdGlvbiB0aGF0IHdpbGwgKGV2ZW50dWFsbHkpIHJldHVybiB0aGUgdmFsdWVcbiAgICAgICAgICogICAgICB0byB1cGRhdGUge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IFVSTCB3aXRoIGFuZCB0cmlnZ2VyIHJvdXRlIHJlZGlyZWN0aW9uLiBJblxuICAgICAgICAgKiAgICAgIGNvbnRyYXN0IHRvIGByZWRpcmVjdFRvYCwgZGVwZW5kZW5jaWVzIGNhbiBiZSBpbmplY3RlZCBpbnRvIGByZXNvbHZlUmVkaXJlY3RUb2AgYW5kIHRoZVxuICAgICAgICAgKiAgICAgIHJldHVybiB2YWx1ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgU2ltaWxhciB0byBgcmVkaXJlY3RUb2AsIGlmIHRoZSByZXR1cm4gdmFsdWUgaXMgYHVuZGVmaW5lZGAgKG9yIGEgcHJvbWlzZSB0aGF0IGdldHNcbiAgICAgICAgICogICAgICByZXNvbHZlZCB0byBgdW5kZWZpbmVkYCksIG5vIHJlZGlyZWN0aW9uIHRha2VzIHBsYWNlIGFuZCB0aGUgcm91dGUgdHJhbnNpdGlvbiBvY2N1cnMgYXNcbiAgICAgICAgICogICAgICB0aG91Z2ggdGhlcmUgd2FzIG5vIHJlZGlyZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIElmIHRoZSBmdW5jdGlvbiB0aHJvd3MgYW4gZXJyb3Igb3IgdGhlIHJldHVybmVkIHByb21pc2UgZ2V0cyByZWplY3RlZCwgbm8gZnVydGhlclxuICAgICAgICAgKiAgICAgIHByb2Nlc3Npbmcgd2lsbCB0YWtlIHBsYWNlIGFuZCB0aGVcbiAgICAgICAgICogICAgICB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjJHJvdXRlQ2hhbmdlRXJyb3IgJHJvdXRlQ2hhbmdlRXJyb3J9IGV2ZW50IHdpbGwgYmUgZmlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgYHJlZGlyZWN0VG9gIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgcmVzb2x2ZVJlZGlyZWN0VG9gLCBzbyBzcGVjaWZ5aW5nIGJvdGggb24gdGhlIHNhbWVcbiAgICAgICAgICogICAgICByb3V0ZSBkZWZpbml0aW9uLCB3aWxsIGNhdXNlIHRoZSBsYXR0ZXIgdG8gYmUgaWdub3JlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogICAgLSBgW3JlbG9hZE9uU2VhcmNoPXRydWVdYCAtIGB7Ym9vbGVhbj19YCAtIHJlbG9hZCByb3V0ZSB3aGVuIG9ubHkgYCRsb2NhdGlvbi5zZWFyY2goKWBcbiAgICAgICAgICogICAgICBvciBgJGxvY2F0aW9uLmhhc2goKWAgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogICAgICBJZiB0aGUgb3B0aW9uIGlzIHNldCB0byBgZmFsc2VgIGFuZCB1cmwgaW4gdGhlIGJyb3dzZXIgY2hhbmdlcywgdGhlblxuICAgICAgICAgKiAgICAgIGAkcm91dGVVcGRhdGVgIGV2ZW50IGlzIGJyb2FkY2FzdGVkIG9uIHRoZSByb290IHNjb3BlLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAtIGBbY2FzZUluc2Vuc2l0aXZlTWF0Y2g9ZmFsc2VdYCAtIGB7Ym9vbGVhbj19YCAtIG1hdGNoIHJvdXRlcyB3aXRob3V0IGJlaW5nIGNhc2Ugc2Vuc2l0aXZlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgSWYgdGhlIG9wdGlvbiBpcyBzZXQgdG8gYHRydWVgLCB0aGVuIHRoZSBwYXJ0aWN1bGFyIHJvdXRlIGNhbiBiZSBtYXRjaGVkIHdpdGhvdXQgYmVpbmdcbiAgICAgICAgICogICAgICBjYXNlIHNlbnNpdGl2ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzZWxmXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBZGRzIGEgbmV3IHJvdXRlIGRlZmluaXRpb24gdG8gdGhlIGAkcm91dGVgIHNlcnZpY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndoZW4gPSBmdW5jdGlvbihwYXRoLCByb3V0ZSkge1xuICAgICAgICAgICAgLy9jb3B5IG9yaWdpbmFsIHJvdXRlIG9iamVjdCB0byBwcmVzZXJ2ZSBwYXJhbXMgaW5oZXJpdGVkIGZyb20gcHJvdG8gY2hhaW5cbiAgICAgICAgICAgIHZhciByb3V0ZUNvcHkgPSBzaGFsbG93Q29weShyb3V0ZSk7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChyb3V0ZUNvcHkucmVsb2FkT25TZWFyY2gpKSB7XG4gICAgICAgICAgICAgICAgcm91dGVDb3B5LnJlbG9hZE9uU2VhcmNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHJvdXRlQ29weS5jYXNlSW5zZW5zaXRpdmVNYXRjaCkpIHtcbiAgICAgICAgICAgICAgICByb3V0ZUNvcHkuY2FzZUluc2Vuc2l0aXZlTWF0Y2ggPSB0aGlzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91dGVzW3BhdGhdID0gYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgcm91dGVDb3B5LFxuICAgICAgICAgICAgICAgIHBhdGggJiYgcGF0aFJlZ0V4cChwYXRoLCByb3V0ZUNvcHkpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgcmVkaXJlY3Rpb24gZm9yIHRyYWlsaW5nIHNsYXNoZXNcbiAgICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZGlyZWN0UGF0aCA9IChwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09ICcvJylcbiAgICAgICAgICAgICAgICAgICAgPyBwYXRoLnN1YnN0cigwLCBwYXRoLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgICAgIDogcGF0aCArICcvJztcblxuICAgICAgICAgICAgICAgIHJvdXRlc1tyZWRpcmVjdFBhdGhdID0gYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgICAgIHtyZWRpcmVjdFRvOiBwYXRofSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aFJlZ0V4cChyZWRpcmVjdFBhdGgsIHJvdXRlQ29weSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAqIEBuYW1lICRyb3V0ZVByb3ZpZGVyI2Nhc2VJbnNlbnNpdGl2ZU1hdGNoXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBBIGJvb2xlYW4gcHJvcGVydHkgaW5kaWNhdGluZyBpZiByb3V0ZXMgZGVmaW5lZFxuICAgICAgICAgKiB1c2luZyB0aGlzIHByb3ZpZGVyIHNob3VsZCBiZSBtYXRjaGVkIHVzaW5nIGEgY2FzZSBpbnNlbnNpdGl2ZVxuICAgICAgICAgKiBhbGdvcml0aG0uIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBwYXRoIHtzdHJpbmd9IHBhdGhcbiAgICAgICAgICogQHBhcmFtIG9wdHMge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKiBAcmV0dXJuIHs/T2JqZWN0fVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogTm9ybWFsaXplcyB0aGUgZ2l2ZW4gcGF0aCwgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAgICAgICAqIGFuZCB0aGUgb3JpZ2luYWwgcGF0aC5cbiAgICAgICAgICpcbiAgICAgICAgICogSW5zcGlyZWQgYnkgcGF0aFJleHAgaW4gdmlzaW9ubWVkaWEvZXhwcmVzcy9saWIvdXRpbHMuanMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBwYXRoUmVnRXhwKHBhdGgsIG9wdHMpIHtcbiAgICAgICAgICAgIHZhciBpbnNlbnNpdGl2ZSA9IG9wdHMuY2FzZUluc2Vuc2l0aXZlTWF0Y2gsXG4gICAgICAgICAgICAgICAgcmV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4cDogcGF0aFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAga2V5cyA9IHJldC5rZXlzID0gW107XG5cbiAgICAgICAgICAgIHBhdGggPSBwYXRoXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbKCkuXSkvZywgJ1xcXFwkMScpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhcXC8pPzooXFx3KykoXFwqXFw/fFs/Kl0pPy9nLCBmdW5jdGlvbihfLCBzbGFzaCwga2V5LCBvcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gKG9wdGlvbiA9PT0gJz8nIHx8IG9wdGlvbiA9PT0gJyo/JykgPyAnPycgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhciA9IChvcHRpb24gPT09ICcqJyB8fCBvcHRpb24gPT09ICcqPycpID8gJyonIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHsgbmFtZToga2V5LCBvcHRpb25hbDogISFvcHRpb25hbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2xhc2ggPSBzbGFzaCB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgICAgICAgICAgICAgICArIChvcHRpb25hbCA/ICcnIDogc2xhc2gpXG4gICAgICAgICAgICAgICAgICAgICAgICArICcoPzonXG4gICAgICAgICAgICAgICAgICAgICAgICArIChvcHRpb25hbCA/IHNsYXNoIDogJycpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChzdGFyICYmICcoLis/KScgfHwgJyhbXi9dKyknKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICArICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbLyQqXSkvZywgJ1xcXFwkMScpO1xuXG4gICAgICAgICAgICByZXQucmVnZXhwID0gbmV3IFJlZ0V4cCgnXicgKyBwYXRoICsgJyQnLCBpbnNlbnNpdGl2ZSA/ICdpJyA6ICcnKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciNvdGhlcndpc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNldHMgcm91dGUgZGVmaW5pdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCBvbiByb3V0ZSBjaGFuZ2Ugd2hlbiBubyBvdGhlciByb3V0ZSBkZWZpbml0aW9uXG4gICAgICAgICAqIGlzIG1hdGNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gcGFyYW1zIE1hcHBpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXNzaWduZWQgdG8gYCRyb3V0ZS5jdXJyZW50YC5cbiAgICAgICAgICogSWYgY2FsbGVkIHdpdGggYSBzdHJpbmcsIHRoZSB2YWx1ZSBtYXBzIHRvIGByZWRpcmVjdFRvYC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gc2VsZlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdGhlcndpc2UgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHtyZWRpcmVjdFRvOiBwYXJhbXN9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53aGVuKG51bGwsIHBhcmFtcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciNlYWdlckluc3RhbnRpYXRpb25FbmFibGVkXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDYWxsIHRoaXMgbWV0aG9kIGFzIGEgc2V0dGVyIHRvIGVuYWJsZS9kaXNhYmxlIGVhZ2VyIGluc3RhbnRpYXRpb24gb2YgdGhlXG4gICAgICAgICAqIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSAkcm91dGV9IHNlcnZpY2UgdXBvbiBhcHBsaWNhdGlvbiBib290c3RyYXAuIFlvdSBjYW4gYWxzbyBjYWxsIGl0IGFzIGFcbiAgICAgICAgICogZ2V0dGVyIChpLmUuIHdpdGhvdXQgYW55IGFyZ3VtZW50cykgdG8gZ2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZVxuICAgICAgICAgKiBgZWFnZXJJbnN0YW50aWF0aW9uRW5hYmxlZGAgZmxhZy5cbiAgICAgICAgICpcbiAgICAgICAgICogSW5zdGFudGlhdGluZyBgJHJvdXRlYCBlYXJseSBpcyBuZWNlc3NhcnkgZm9yIGNhcHR1cmluZyB0aGUgaW5pdGlhbFxuICAgICAgICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0ICRsb2NhdGlvbkNoYW5nZVN0YXJ0fSBldmVudCBhbmQgbmF2aWdhdGluZyB0byB0aGVcbiAgICAgICAgICogYXBwcm9wcmlhdGUgcm91dGUuIFVzdWFsbHksIGAkcm91dGVgIGlzIGluc3RhbnRpYXRlZCBpbiB0aW1lIGJ5IHRoZVxuICAgICAgICAgKiB7QGxpbmsgbmdSb3V0ZS5uZ1ZpZXcgbmdWaWV3fSBkaXJlY3RpdmUuIFlldCwgaW4gY2FzZXMgd2hlcmUgYG5nVmlld2AgaXMgaW5jbHVkZWQgaW4gYW5cbiAgICAgICAgICogYXN5bmNocm9ub3VzbHkgbG9hZGVkIHRlbXBsYXRlIChlLmcuIGluIGFub3RoZXIgZGlyZWN0aXZlJ3MgdGVtcGxhdGUpLCB0aGUgZGlyZWN0aXZlIGZhY3RvcnlcbiAgICAgICAgICogbWlnaHQgbm90IGJlIGNhbGxlZCBzb29uIGVub3VnaCBmb3IgYCRyb3V0ZWAgdG8gYmUgaW5zdGFudGlhdGVkIF9iZWZvcmVfIHRoZSBpbml0aWFsXG4gICAgICAgICAqIGAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzYCBldmVudCBpcyBmaXJlZC4gRWFnZXIgaW5zdGFudGlhdGlvbiBlbnN1cmVzIHRoYXQgYCRyb3V0ZWAgaXMgYWx3YXlzXG4gICAgICAgICAqIGluc3RhbnRpYXRlZCBpbiB0aW1lLCByZWdhcmRsZXNzIG9mIHdoZW4gYG5nVmlld2Agd2lsbCBiZSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAgICAgICAqXG4gICAgICAgICAqICoqTm90ZSoqOjxiciAvPlxuICAgICAgICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGUgZGVmYXVsdCBiZWhhdmlvciB3aGVuIHVuaXQtdGVzdGluZyBtb2R1bGVzIHRoYXQgZGVwZW5kIG9uXG4gICAgICAgICAqIGBuZ1JvdXRlYCwgaW4gb3JkZXIgdG8gYXZvaWQgYW4gdW5leHBlY3RlZCByZXF1ZXN0IGZvciB0aGUgZGVmYXVsdCByb3V0ZSdzIHRlbXBsYXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIC0gSWYgcHJvdmlkZWQsIHVwZGF0ZSB0aGUgaW50ZXJuYWwgYGVhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWRgIGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYGVhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWRgIGZsYWcgaWYgdXNlZCBhcyBhIGdldHRlciBvclxuICAgICAgICAgKiAgICAgaXRzZWxmIChmb3IgY2hhaW5pbmcpIGlmIHVzZWQgYXMgYSBzZXR0ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpc0VhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmVhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWQgPSBmdW5jdGlvbiBlYWdlckluc3RhbnRpYXRpb25FbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcbiAgICAgICAgICAgICAgICBpc0VhZ2VySW5zdGFudGlhdGlvbkVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXNFYWdlckluc3RhbnRpYXRpb25FbmFibGVkO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJyxcbiAgICAgICAgICAgICckbG9jYXRpb24nLFxuICAgICAgICAgICAgJyRyb3V0ZVBhcmFtcycsXG4gICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgJyRpbmplY3RvcicsXG4gICAgICAgICAgICAnJHRlbXBsYXRlUmVxdWVzdCcsXG4gICAgICAgICAgICAnJHNjZScsXG4gICAgICAgICAgICAnJGJyb3dzZXInLFxuICAgICAgICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkcm91dGVQYXJhbXMsICRxLCAkaW5qZWN0b3IsICR0ZW1wbGF0ZVJlcXVlc3QsICRzY2UsICRicm93c2VyKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgICAgICAgICAgICAqIEBuYW1lICRyb3V0ZVxuICAgICAgICAgICAgICAgICAqIEByZXF1aXJlcyAkbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgKiBAcmVxdWlyZXMgJHJvdXRlUGFyYW1zXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gY3VycmVudCBSZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcm91dGUgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICAgKiBUaGUgcm91dGUgZGVmaW5pdGlvbiBjb250YWluczpcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgLSBgY29udHJvbGxlcmA6IFRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGFzIGRlZmluZWQgaW4gdGhlIHJvdXRlIGRlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgICogICAtIGBsb2NhbHNgOiBBIG1hcCBvZiBsb2NhbHMgd2hpY2ggaXMgdXNlZCBieSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXJ9IHNlcnZpY2UgZm9yXG4gICAgICAgICAgICAgICAgICogICAgIGNvbnRyb2xsZXIgaW5zdGFudGlhdGlvbi4gVGhlIGBsb2NhbHNgIGNvbnRhaW5cbiAgICAgICAgICAgICAgICAgKiAgICAgdGhlIHJlc29sdmVkIHZhbHVlcyBvZiB0aGUgYHJlc29sdmVgIG1hcC4gQWRkaXRpb25hbGx5IHRoZSBgbG9jYWxzYCBhbHNvIGNvbnRhaW46XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgLSBgJHNjb3BlYCAtIFRoZSBjdXJyZW50IHJvdXRlIHNjb3BlLlxuICAgICAgICAgICAgICAgICAqICAgICAtIGAkdGVtcGxhdGVgIC0gVGhlIGN1cnJlbnQgcm91dGUgdGVtcGxhdGUgSFRNTC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICBUaGUgYGxvY2Fsc2Agd2lsbCBiZSBhc3NpZ25lZCB0byB0aGUgcm91dGUgc2NvcGUncyBgJHJlc29sdmVgIHByb3BlcnR5LiBZb3UgY2FuIG92ZXJyaWRlXG4gICAgICAgICAgICAgICAgICogICAgIHRoZSBwcm9wZXJ0eSBuYW1lLCB1c2luZyBgcmVzb2x2ZUFzYCBpbiB0aGUgcm91dGUgZGVmaW5pdGlvbi4gU2VlXG4gICAgICAgICAgICAgICAgICogICAgIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVByb3ZpZGVyICRyb3V0ZVByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IHJvdXRlcyBPYmplY3Qgd2l0aCBhbGwgcm91dGUgY29uZmlndXJhdGlvbiBPYmplY3RzIGFzIGl0cyBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogYCRyb3V0ZWAgaXMgdXNlZCBmb3IgZGVlcC1saW5raW5nIFVSTHMgdG8gY29udHJvbGxlcnMgYW5kIHZpZXdzIChIVE1MIHBhcnRpYWxzKS5cbiAgICAgICAgICAgICAgICAgKiBJdCB3YXRjaGVzIGAkbG9jYXRpb24udXJsKClgIGFuZCB0cmllcyB0byBtYXAgdGhlIHBhdGggdG8gYW4gZXhpc3Rpbmcgcm91dGUgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBZb3UgY2FuIGRlZmluZSByb3V0ZXMgdGhyb3VnaCB7QGxpbmsgbmdSb3V0ZS4kcm91dGVQcm92aWRlciAkcm91dGVQcm92aWRlcn0ncyBBUEkuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBUaGUgYCRyb3V0ZWAgc2VydmljZSBpcyB0eXBpY2FsbHkgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZVxuICAgICAgICAgICAgICAgICAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9IGRpcmVjdGl2ZSBhbmQgdGhlXG4gICAgICAgICAgICAgICAgICoge0BsaW5rIG5nUm91dGUuJHJvdXRlUGFyYW1zIGAkcm91dGVQYXJhbXNgfSBzZXJ2aWNlLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAgICAgKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IGNoYW5naW5nIHRoZSBVUkwgaGFzaCBjYXVzZXMgdGhlIGAkcm91dGVgIHRvIG1hdGNoIGEgcm91dGUgYWdhaW5zdCB0aGVcbiAgICAgICAgICAgICAgICAgKiBVUkwsIGFuZCB0aGUgYG5nVmlld2AgcHVsbHMgaW4gdGhlIHBhcnRpYWwuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiA8ZXhhbXBsZSBuYW1lPVwiJHJvdXRlLXNlcnZpY2VcIiBtb2R1bGU9XCJuZ1JvdXRlRXhhbXBsZVwiXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgZGVwcz1cImFuZ3VsYXItcm91dGUuanNcIiBmaXhCYXNlPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgICAgICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgICAgICAgKiAgICAgICBDaG9vc2U6XG4gICAgICAgICAgICAgICAgICogICAgICAgPGEgaHJlZj1cIkJvb2svTW9ieVwiPk1vYnk8L2E+IHxcbiAgICAgICAgICAgICAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9Nb2J5L2NoLzFcIj5Nb2J5OiBDaDE8L2E+IHxcbiAgICAgICAgICAgICAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9HYXRzYnlcIj5HYXRzYnk8L2E+IHxcbiAgICAgICAgICAgICAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9HYXRzYnkvY2gvND9rZXk9dmFsdWVcIj5HYXRzYnk6IENoNDwvYT4gfFxuICAgICAgICAgICAgICAgICAqICAgICAgIDxhIGhyZWY9XCJCb29rL1NjYXJsZXRcIj5TY2FybGV0IExldHRlcjwvYT48YnIvPlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgICAgPGRpdiBuZy12aWV3PjwvZGl2PlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgICAgPGhyIC8+XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgICA8cHJlPiRsb2NhdGlvbi5wYXRoKCkgPSB7eyRsb2NhdGlvbi5wYXRoKCl9fTwvcHJlPlxuICAgICAgICAgICAgICAgICAqICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmwgPSB7eyRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsfX08L3ByZT5cbiAgICAgICAgICAgICAgICAgKiAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnBhcmFtcyA9IHt7JHJvdXRlLmN1cnJlbnQucGFyYW1zfX08L3ByZT5cbiAgICAgICAgICAgICAgICAgKiAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnNjb3BlLm5hbWUgPSB7eyRyb3V0ZS5jdXJyZW50LnNjb3BlLm5hbWV9fTwvcHJlPlxuICAgICAgICAgICAgICAgICAqICAgICAgIDxwcmU+JHJvdXRlUGFyYW1zID0ge3skcm91dGVQYXJhbXN9fTwvcHJlPlxuICAgICAgICAgICAgICAgICAqICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgKiAgIDwvZmlsZT5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgPGZpbGUgbmFtZT1cImJvb2suaHRtbFwiPlxuICAgICAgICAgICAgICAgICAqICAgICBjb250cm9sbGVyOiB7e25hbWV9fTxiciAvPlxuICAgICAgICAgICAgICAgICAqICAgICBCb29rIElkOiB7e3BhcmFtcy5ib29rSWR9fTxiciAvPlxuICAgICAgICAgICAgICAgICAqICAgPC9maWxlPlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICA8ZmlsZSBuYW1lPVwiY2hhcHRlci5odG1sXCI+XG4gICAgICAgICAgICAgICAgICogICAgIGNvbnRyb2xsZXI6IHt7bmFtZX19PGJyIC8+XG4gICAgICAgICAgICAgICAgICogICAgIEJvb2sgSWQ6IHt7cGFyYW1zLmJvb2tJZH19PGJyIC8+XG4gICAgICAgICAgICAgICAgICogICAgIENoYXB0ZXIgSWQ6IHt7cGFyYW1zLmNoYXB0ZXJJZH19XG4gICAgICAgICAgICAgICAgICogICA8L2ZpbGU+XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgICAgICAgICAgKiAgICAgYW5ndWxhci5tb2R1bGUoJ25nUm91dGVFeGFtcGxlJywgWyduZ1JvdXRlJ10pXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xuICAgICAqICAgICAgICAgICRzY29wZS4kcm91dGUgPSAkcm91dGU7XG4gICAgICogICAgICAgICAgJHNjb3BlLiRsb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICAgKiAgICAgICAgICAkc2NvcGUuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zO1xuICAgICAqICAgICAgfSlcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgICAgLmNvbnRyb2xsZXIoJ0Jvb2tDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkcm91dGVQYXJhbXMpIHtcbiAgICAgKiAgICAgICAgICAkc2NvcGUubmFtZSA9ICdCb29rQ29udHJvbGxlcic7XG4gICAgICogICAgICAgICAgJHNjb3BlLnBhcmFtcyA9ICRyb3V0ZVBhcmFtcztcbiAgICAgKiAgICAgIH0pXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgICAgIC5jb250cm9sbGVyKCdDaGFwdGVyQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlUGFyYW1zKSB7XG4gICAgICogICAgICAgICAgJHNjb3BlLm5hbWUgPSAnQ2hhcHRlckNvbnRyb2xsZXInO1xuICAgICAqICAgICAgICAgICRzY29wZS5wYXJhbXMgPSAkcm91dGVQYXJhbXM7XG4gICAgICogICAgICB9KVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAgIC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICogICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgKiAgICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQnLCB7XG4gICAgICogICAgICAgICB0ZW1wbGF0ZVVybDogJ2Jvb2suaHRtbCcsXG4gICAgICogICAgICAgICBjb250cm9sbGVyOiAnQm9va0NvbnRyb2xsZXInLFxuICAgICAqICAgICAgICAgcmVzb2x2ZToge1xuICAgICAqICAgICAgICAgICAvLyBJIHdpbGwgY2F1c2UgYSAxIHNlY29uZCBkZWxheVxuICAgICAqICAgICAgICAgICBkZWxheTogZnVuY3Rpb24oJHEsICR0aW1lb3V0KSB7XG4gICAgICogICAgICAgICAgICAgdmFyIGRlbGF5ID0gJHEuZGVmZXIoKTtcbiAgICAgKiAgICAgICAgICAgICAkdGltZW91dChkZWxheS5yZXNvbHZlLCAxMDAwKTtcbiAgICAgKiAgICAgICAgICAgICByZXR1cm4gZGVsYXkucHJvbWlzZTtcbiAgICAgKiAgICAgICAgICAgfVxuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgIH0pXG4gICAgICogICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQvY2gvOmNoYXB0ZXJJZCcsIHtcbiAgICAgKiAgICAgICAgIHRlbXBsYXRlVXJsOiAnY2hhcHRlci5odG1sJyxcbiAgICAgKiAgICAgICAgIGNvbnRyb2xsZXI6ICdDaGFwdGVyQ29udHJvbGxlcidcbiAgICAgKiAgICAgICB9KTtcbiAgICAgKlxuICAgICAqICAgICAgIC8vIGNvbmZpZ3VyZSBodG1sNSB0byBnZXQgbGlua3Mgd29ya2luZyBvbiBqc2ZpZGRsZVxuICAgICAqICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAgIDwvZmlsZT5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgICAgICAgICAqICAgICBpdCgnc2hvdWxkIGxvYWQgYW5kIGNvbXBpbGUgY29ycmVjdCB0ZW1wbGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgICAgIGVsZW1lbnQoYnkubGlua1RleHQoJ01vYnk6IENoMScpKS5jbGljaygpO1xuICAgICAqICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XG4gICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXI6IENoYXB0ZXJDb250cm9sbGVyLyk7XG4gICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWQ6IE1vYnkvKTtcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQ2hhcHRlciBJZDogMS8pO1xuICAgICAqXG4gICAgICogICAgICAgZWxlbWVudChieS5wYXJ0aWFsTGlua1RleHQoJ1NjYXJsZXQnKSkuY2xpY2soKTtcbiAgICAgKlxuICAgICAqICAgICAgIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTtcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlcjogQm9va0NvbnRyb2xsZXIvKTtcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZDogU2NhcmxldC8pO1xuICAgICAqICAgICB9KTtcbiAgICAgICAgICAgICAgICAgKiAgIDwvZmlsZT5cbiAgICAgICAgICAgICAgICAgKiA8L2V4YW1wbGU+XG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSAkcm91dGUjJHJvdXRlQ2hhbmdlU3RhcnRcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgcm91dGUgY2hhbmdlLiBBdCB0aGlzICBwb2ludCB0aGUgcm91dGUgc2VydmljZXMgc3RhcnRzXG4gICAgICAgICAgICAgICAgICogcmVzb2x2aW5nIGFsbCBvZiB0aGUgZGVwZW5kZW5jaWVzIG5lZWRlZCBmb3IgdGhlIHJvdXRlIGNoYW5nZSB0byBvY2N1ci5cbiAgICAgICAgICAgICAgICAgKiBUeXBpY2FsbHkgdGhpcyBpbnZvbHZlcyBmZXRjaGluZyB0aGUgdmlldyB0ZW1wbGF0ZSBhcyB3ZWxsIGFzIGFueSBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgICAgICAgKiBkZWZpbmVkIGluIGByZXNvbHZlYCByb3V0ZSBwcm9wZXJ0eS4gT25jZSAgYWxsIG9mIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICogYCRyb3V0ZUNoYW5nZVN1Y2Nlc3NgIGlzIGZpcmVkLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhlIHJvdXRlIGNoYW5nZSAoYW5kIHRoZSBgJGxvY2F0aW9uYCBjaGFuZ2UgdGhhdCB0cmlnZ2VyZWQgaXQpIGNhbiBiZSBwcmV2ZW50ZWRcbiAgICAgICAgICAgICAgICAgKiBieSBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAgICAgICAgICAgKiBmb3IgbW9yZSBkZXRhaWxzIGFib3V0IGV2ZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1JvdXRlfSBuZXh0IEZ1dHVyZSByb3V0ZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1JvdXRlfSBjdXJyZW50IEN1cnJlbnQgcm91dGUgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSAkcm91dGUjJHJvdXRlQ2hhbmdlU3VjY2Vzc1xuICAgICAgICAgICAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIHJvdXRlIGNoYW5nZSBoYXMgaGFwcGVuZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgICAgICAgICAqIFRoZSBgcmVzb2x2ZWAgZGVwZW5kZW5jaWVzIGFyZSBub3cgYXZhaWxhYmxlIGluIHRoZSBgY3VycmVudC5sb2NhbHNgIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBuZ1ZpZXd9IGxpc3RlbnMgZm9yIHRoZSBkaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgKiB0byBpbnN0YW50aWF0ZSB0aGUgY29udHJvbGxlciBhbmQgcmVuZGVyIHRoZSB2aWV3LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Um91dGV9IGN1cnJlbnQgQ3VycmVudCByb3V0ZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1JvdXRlfFVuZGVmaW5lZH0gcHJldmlvdXMgUHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24sIG9yIHVuZGVmaW5lZCBpZiBjdXJyZW50IGlzXG4gICAgICAgICAgICAgICAgICogZmlyc3Qgcm91dGUgZW50ZXJlZC5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVDaGFuZ2VFcnJvclxuICAgICAgICAgICAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBCcm9hZGNhc3RlZCBpZiBhIHJlZGlyZWN0aW9uIGZ1bmN0aW9uIGZhaWxzIG9yIGFueSByZWRpcmVjdGlvbiBvciByZXNvbHZlIHByb21pc2VzIGFyZVxuICAgICAgICAgICAgICAgICAqIHJlamVjdGVkLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtSb3V0ZX0gY3VycmVudCBDdXJyZW50IHJvdXRlIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Um91dGV9IHByZXZpb3VzIFByZXZpb3VzIHJvdXRlIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Um91dGV9IHJlamVjdGlvbiBUaGUgdGhyb3duIGVycm9yIG9yIHRoZSByZWplY3Rpb24gcmVhc29uIG9mIHRoZSBwcm9taXNlLiBVc3VhbGx5XG4gICAgICAgICAgICAgICAgICogdGhlIHJlamVjdGlvbiByZWFzb24gaXMgdGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBwcm9taXNlIHRvIGdldCByZWplY3RlZC5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVVcGRhdGVcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogVGhlIGByZWxvYWRPblNlYXJjaGAgcHJvcGVydHkgaGFzIGJlZW4gc2V0IHRvIGZhbHNlLCBhbmQgd2UgYXJlIHJldXNpbmcgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAgKiBpbnN0YW5jZSBvZiB0aGUgQ29udHJvbGxlci5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Um91dGV9IGN1cnJlbnQgQ3VycmVudC9wcmV2aW91cyByb3V0ZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIHZhciBmb3JjZVJlbG9hZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcmVwYXJlZFJvdXRlLFxuICAgICAgICAgICAgICAgICAgICBwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5LFxuICAgICAgICAgICAgICAgICAgICAkcm91dGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXM6IHJvdXRlcyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmFtZSAkcm91dGUjcmVsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDYXVzZXMgYCRyb3V0ZWAgc2VydmljZSB0byByZWxvYWQgdGhlIGN1cnJlbnQgcm91dGUgZXZlbiBpZlxuICAgICAgICAgICAgICAgICAgICAgICAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IGhhc24ndCBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEFzIGEgcmVzdWx0IG9mIHRoYXQsIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICogY3JlYXRlcyBuZXcgc2NvcGUgYW5kIHJlaW5zdGFudGlhdGVzIHRoZSBjb250cm9sbGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlUmVsb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWtlTG9jYXRpb25FdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBmYWtlUHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VSZWxvYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXBhcmVSb3V0ZShmYWtlTG9jYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmFrZUxvY2F0aW9uRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgY29tbWl0Um91dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWUgJHJvdXRlI3VwZGF0ZVBhcmFtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ2F1c2VzIGAkcm91dGVgIHNlcnZpY2UgdG8gdXBkYXRlIHRoZSBjdXJyZW50IFVSTCwgcmVwbGFjaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBjdXJyZW50IHJvdXRlIHBhcmFtZXRlcnMgd2l0aCB0aG9zZSBzcGVjaWZpZWQgaW4gYG5ld1BhcmFtc2AuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBQcm92aWRlZCBwcm9wZXJ0eSBuYW1lcyB0aGF0IG1hdGNoIHRoZSByb3V0ZSdzIHBhdGggc2VnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICogZGVmaW5pdGlvbnMgd2lsbCBiZSBpbnRlcnBvbGF0ZWQgaW50byB0aGUgbG9jYXRpb24ncyBwYXRoLCB3aGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogcmVtYWluaW5nIHByb3BlcnRpZXMgd2lsbCBiZSB0cmVhdGVkIGFzIHF1ZXJ5IHBhcmFtcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBuZXdQYXJhbXMgbWFwcGluZyBvZiBVUkwgcGFyYW1ldGVyIG5hbWVzIHRvIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYXJhbXM6IGZ1bmN0aW9uKG5ld1BhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgJiYgdGhpcy5jdXJyZW50LiQkcm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gYW5ndWxhci5leHRlbmQoe30sIHRoaXMuY3VycmVudC5wYXJhbXMsIG5ld1BhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKGludGVycG9sYXRlKHRoaXMuY3VycmVudC4kJHJvdXRlLm9yaWdpbmFsUGF0aCwgbmV3UGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVycG9sYXRlIG1vZGlmaWVzIG5ld1BhcmFtcywgb25seSBxdWVyeSBwYXJhbXMgYXJlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnNlYXJjaChuZXdQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICRyb3V0ZU1pbkVycignbm9yb3V0JywgJ1RyaWVkIHVwZGF0aW5nIHJvdXRlIHdoZW4gd2l0aCBubyBjdXJyZW50IHJvdXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgcHJlcGFyZVJvdXRlKTtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGNvbW1pdFJvdXRlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkcm91dGU7XG5cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIG9uIHtzdHJpbmd9IGN1cnJlbnQgdXJsXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHJvdXRlIHtPYmplY3R9IHJvdXRlIHJlZ2V4cCB0byBtYXRjaCB0aGUgdXJsIGFnYWluc3RcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJuIHs/T2JqZWN0fVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogQ2hlY2sgaWYgdGhlIHJvdXRlIG1hdGNoZXMgdGhlIGN1cnJlbnQgdXJsLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogSW5zcGlyZWQgYnkgbWF0Y2ggaW5cbiAgICAgICAgICAgICAgICAgKiB2aXNpb25tZWRpYS9leHByZXNzL2xpYi9yb3V0ZXIvcm91dGVyLmpzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN3aXRjaFJvdXRlTWF0Y2hlcihvbiwgcm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSByb3V0ZS5rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3V0ZS5yZWdleHApIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gcm91dGUucmVnZXhwLmV4ZWMob24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBtLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBtW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICYmIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1trZXkubmFtZV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlUm91dGUoJGxvY2F0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RSb3V0ZSA9ICRyb3V0ZS5jdXJyZW50O1xuXG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVkUm91dGUgPSBwYXJzZVJvdXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHkgPSBwcmVwYXJlZFJvdXRlICYmIGxhc3RSb3V0ZSAmJiBwcmVwYXJlZFJvdXRlLiQkcm91dGUgPT09IGxhc3RSb3V0ZS4kJHJvdXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBhbmd1bGFyLmVxdWFscyhwcmVwYXJlZFJvdXRlLnBhdGhQYXJhbXMsIGxhc3RSb3V0ZS5wYXRoUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXByZXBhcmVkUm91dGUucmVsb2FkT25TZWFyY2ggJiYgIWZvcmNlUmVsb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seSAmJiAobGFzdFJvdXRlIHx8IHByZXBhcmVkUm91dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVDaGFuZ2VTdGFydCcsIHByZXBhcmVkUm91dGUsIGxhc3RSb3V0ZSkuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb25FdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb25FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvbW1pdFJvdXRlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFJvdXRlID0gJHJvdXRlLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Um91dGUgPSBwcmVwYXJlZFJvdXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Um91dGUucGFyYW1zID0gbmV4dFJvdXRlLnBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShsYXN0Um91dGUucGFyYW1zLCAkcm91dGVQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVVcGRhdGUnLCBsYXN0Um91dGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRSb3V0ZSB8fCBsYXN0Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlUmVsb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUuY3VycmVudCA9IG5leHRSb3V0ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRSb3V0ZVByb21pc2UgPSAkcS5yZXNvbHZlKG5leHRSb3V0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJvdXRlUHJvbWlzZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4oZ2V0UmVkaXJlY3Rpb25EYXRhKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4oaGFuZGxlUG9zc2libGVSZWRpcmVjdGlvbikuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKGtlZXBQcm9jZXNzaW5nUm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2VlcFByb2Nlc3NpbmdSb3V0ZSAmJiBuZXh0Um91dGVQcm9taXNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuKHJlc29sdmVMb2NhbHMpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKGxvY2Fscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgcm91dGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFJvdXRlID09PSAkcm91dGUuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJvdXRlLmxvY2FscyA9IGxvY2FscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KG5leHRSb3V0ZS5wYXJhbXMsICRyb3V0ZVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlU3VjY2VzcycsIG5leHRSb3V0ZSwgbGFzdFJvdXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Um91dGUgPT09ICRyb3V0ZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlRXJyb3InLCBuZXh0Um91dGUsIGxhc3RSb3V0ZSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmVjYXVzZSBgY29tbWl0Um91dGUoKWAgaXMgY2FsbGVkIGZyb20gYSBgJHJvb3RTY29wZS4kZXZhbEFzeW5jYCBibG9jayAoc2VlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYCRsb2NhdGlvbldhdGNoYCksIHRoaXMgYCQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoKWAgY2FsbCB3aWxsIG5vdCBjYXVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudGAgdG8gaGl0IHplcm8uICBUaGlzIGlzIGltcG9ydGFudCBpbiBjYXNlIHdlIGFyZSByZWRpcmVjdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGEgbmV3IHJvdXRlIHdoaWNoIGFsc28gcmVxdWlyZXMgc29tZSBhc3luY2hyb25vdXMgd29yay5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlZGlyZWN0aW9uRGF0YShyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlZGlyZWN0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdXRlLnJlZGlyZWN0VG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhyb3V0ZS5yZWRpcmVjdFRvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBhdGggPSBpbnRlcnBvbGF0ZShyb3V0ZS5yZWRpcmVjdFRvLCByb3V0ZS5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNlYXJjaCA9IHJvdXRlLnBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5oYXNSZWRpcmVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZFBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkU2VhcmNoID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VXJsID0gcm91dGUucmVkaXJlY3RUbyhyb3V0ZS5wYXRoUGFyYW1zLCBvbGRQYXRoLCBvbGRTZWFyY2gpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChuZXdVcmwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVybCA9IG5ld1VybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaGFzUmVkaXJlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb3V0ZS5yZXNvbHZlUmVkaXJlY3RUbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCRpbmplY3Rvci5pbnZva2Uocm91dGUucmVzb2x2ZVJlZGlyZWN0VG8pKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKG5ld1VybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobmV3VXJsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51cmwgPSBuZXdVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmhhc1JlZGlyZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlUG9zc2libGVSZWRpcmVjdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZWVwUHJvY2Vzc2luZ1JvdXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3V0ZSAhPT0gJHJvdXRlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBQcm9jZXNzaW5nUm91dGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmhhc1JlZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLnVybCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1VybCA9IGRhdGEudXJsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybChuZXdVcmwpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VXJsID0gJGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgoZGF0YS5wYXRoKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2goZGF0YS5zZWFyY2gpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UoKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1VybCAhPT0gb2xkVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhpdCBvdXQgYW5kIGRvbid0IHByb2Nlc3MgY3VycmVudCBuZXh0IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIG5leHQgbG9jYXRpb24gY2hhbmdlIGZyb20gcmVkaXJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwUHJvY2Vzc2luZ1JvdXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2VlcFByb2Nlc3NpbmdSb3V0ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlTG9jYWxzKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCByb3V0ZS5yZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsb2NhbHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbHNba2V5XSA9IGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGluamVjdG9yLmdldCh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKHZhbHVlLCBudWxsLCBudWxsLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBnZXRUZW1wbGF0ZUZvcihyb3V0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxzWyckdGVtcGxhdGUnXSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChsb2NhbHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGVGb3Iocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlLCB0ZW1wbGF0ZVVybDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlID0gcm91dGUudGVtcGxhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUocm91dGUucGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZVVybCA9IHJvdXRlLnRlbXBsYXRlVXJsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0ZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsKHJvdXRlLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUubG9hZGVkVGVtcGxhdGVVcmwgPSAkc2NlLnZhbHVlT2YodGVtcGxhdGVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJHRlbXBsYXRlUmVxdWVzdCh0ZW1wbGF0ZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSBjdXJyZW50IGFjdGl2ZSByb3V0ZSwgYnkgbWF0Y2hpbmcgaXQgYWdhaW5zdCB0aGUgVVJMXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VSb3V0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggYSByb3V0ZVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zLCBtYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJvdXRlcywgZnVuY3Rpb24ocm91dGUsIHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2ggJiYgKHBhcmFtcyA9IHN3aXRjaFJvdXRlTWF0Y2hlcigkbG9jYXRpb24ucGF0aCgpLCByb3V0ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBpbmhlcml0KHJvdXRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogYW5ndWxhci5leHRlbmQoe30sICRsb2NhdGlvbi5zZWFyY2goKSwgcGFyYW1zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFBhcmFtczogcGFyYW1zfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guJCRyb3V0ZSA9IHJvdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gcm91dGUgbWF0Y2hlZDsgZmFsbGJhY2sgdG8gXCJvdGhlcndpc2VcIiByb3V0ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggfHwgcm91dGVzW251bGxdICYmIGluaGVyaXQocm91dGVzW251bGxdLCB7cGFyYW1zOiB7fSwgcGF0aFBhcmFtczp7fX0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGludGVycG9sYXRpb24gb2YgdGhlIHJlZGlyZWN0IHBhdGggd2l0aCB0aGUgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGludGVycG9sYXRlKHN0cmluZywgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKChzdHJpbmcgfHwgJycpLnNwbGl0KCc6JyksIGZ1bmN0aW9uKHNlZ21lbnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWdtZW50TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC8oXFx3KykoPzpbPypdKT8oLiopLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHNlZ21lbnRNYXRjaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2VnbWVudE1hdGNoWzJdIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dO1xuICAgIH1cblxuICAgIGluc3RhbnRpYXRlUm91dGUuJGluamVjdCA9IFsnJGluamVjdG9yJ107XG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVSb3V0ZSgkaW5qZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzRWFnZXJJbnN0YW50aWF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gSW5zdGFudGlhdGUgYCRyb3V0ZWBcbiAgICAgICAgICAgICRpbmplY3Rvci5nZXQoJyRyb3V0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdSb3V0ZU1vZHVsZS5wcm92aWRlcignJHJvdXRlUGFyYW1zJywgJFJvdXRlUGFyYW1zUHJvdmlkZXIpO1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRyb3V0ZVBhcmFtc1xuICAgICAqIEByZXF1aXJlcyAkcm91dGVcbiAgICAgKiBAdGhpc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkcm91dGVQYXJhbXNgIHNlcnZpY2UgYWxsb3dzIHlvdSB0byByZXRyaWV2ZSB0aGUgY3VycmVudCBzZXQgb2Ygcm91dGUgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBUaGUgcm91dGUgcGFyYW1ldGVycyBhcmUgYSBjb21iaW5hdGlvbiBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uIGAkbG9jYXRpb25gfSdzXG4gICAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNzZWFyY2ggYHNlYXJjaCgpYH0gYW5kIHtAbGluayBuZy4kbG9jYXRpb24jcGF0aCBgcGF0aCgpYH0uXG4gICAgICogVGhlIGBwYXRoYCBwYXJhbWV0ZXJzIGFyZSBleHRyYWN0ZWQgd2hlbiB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlIGAkcm91dGVgfSBwYXRoIGlzIG1hdGNoZWQuXG4gICAgICpcbiAgICAgKiBJbiBjYXNlIG9mIHBhcmFtZXRlciBuYW1lIGNvbGxpc2lvbiwgYHBhdGhgIHBhcmFtcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBgc2VhcmNoYCBwYXJhbXMuXG4gICAgICpcbiAgICAgKiBUaGUgc2VydmljZSBndWFyYW50ZWVzIHRoYXQgdGhlIGlkZW50aXR5IG9mIHRoZSBgJHJvdXRlUGFyYW1zYCBvYmplY3Qgd2lsbCByZW1haW4gdW5jaGFuZ2VkXG4gICAgICogKGJ1dCBpdHMgcHJvcGVydGllcyB3aWxsIGxpa2VseSBjaGFuZ2UpIGV2ZW4gd2hlbiBhIHJvdXRlIGNoYW5nZSBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGAkcm91dGVQYXJhbXNgIGFyZSBvbmx5IHVwZGF0ZWQgKmFmdGVyKiBhIHJvdXRlIGNoYW5nZSBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LlxuICAgICAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2Fubm90IHJlbHkgb24gYCRyb3V0ZVBhcmFtc2AgYmVpbmcgY29ycmVjdCBpbiByb3V0ZSByZXNvbHZlIGZ1bmN0aW9ucy5cbiAgICAgKiBJbnN0ZWFkIHlvdSBjYW4gdXNlIGAkcm91dGUuY3VycmVudC5wYXJhbXNgIHRvIGFjY2VzcyB0aGUgbmV3IHJvdXRlJ3MgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBganNcbiAgICAgKiAgLy8gR2l2ZW46XG4gICAgICogIC8vIFVSTDogaHR0cDovL3NlcnZlci5jb20vaW5kZXguaHRtbCMvQ2hhcHRlci8xL1NlY3Rpb24vMj9zZWFyY2g9bW9ieVxuICAgICAqICAvLyBSb3V0ZTogL0NoYXB0ZXIvOmNoYXB0ZXJJZC9TZWN0aW9uLzpzZWN0aW9uSWRcbiAgICAgKiAgLy9cbiAgICAgKiAgLy8gVGhlblxuICAgICAqICAkcm91dGVQYXJhbXMgPT0+IHtjaGFwdGVySWQ6JzEnLCBzZWN0aW9uSWQ6JzInLCBzZWFyY2g6J21vYnknfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRSb3V0ZVBhcmFtc1Byb3ZpZGVyKCkge1xuICAgICAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHt9OyB9O1xuICAgIH1cblxuICAgIG5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCduZ1ZpZXcnLCBuZ1ZpZXdGYWN0b3J5KTtcbiAgICBuZ1JvdXRlTW9kdWxlLmRpcmVjdGl2ZSgnbmdWaWV3JywgbmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5KTtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgICAqIEBuYW1lIG5nVmlld1xuICAgICAqIEByZXN0cmljdCBFQ0FcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqICMgT3ZlcnZpZXdcbiAgICAgKiBgbmdWaWV3YCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGNvbXBsZW1lbnRzIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlIGJ5XG4gICAgICogaW5jbHVkaW5nIHRoZSByZW5kZXJlZCB0ZW1wbGF0ZSBvZiB0aGUgY3VycmVudCByb3V0ZSBpbnRvIHRoZSBtYWluIGxheW91dCAoYGluZGV4Lmh0bWxgKSBmaWxlLlxuICAgICAqIEV2ZXJ5IHRpbWUgdGhlIGN1cnJlbnQgcm91dGUgY2hhbmdlcywgdGhlIGluY2x1ZGVkIHZpZXcgY2hhbmdlcyB3aXRoIGl0IGFjY29yZGluZyB0byB0aGVcbiAgICAgKiBjb25maWd1cmF0aW9uIG9mIHRoZSBgJHJvdXRlYCBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1JvdXRlIGBuZ1JvdXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICAgKlxuICAgICAqIEBhbmltYXRpb25zXG4gICAgICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBuZXcgZWxlbWVudCBpcyBpbnNlcnRlZCB0byB0aGUgRE9NIHxcbiAgICAgKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgb2xkIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRvIHRoZSBET00gIHxcbiAgICAgKlxuICAgICAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBzY29wZVxuICAgICAqIEBwcmlvcml0eSA0MDBcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW5ldmVyIHRoZSB2aWV3IHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdWaWV3YCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSB2aWV3IGlzIHVwZGF0ZWQuXG4gICAgICpcbiAgICAgKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAgICAgKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cbiAgICAgKiAgICAgICAgICAgICAgICAgIC0gT3RoZXJ3aXNlIGVuYWJsZSBzY3JvbGxpbmcgb25seSBpZiB0aGUgYGF1dG9zY3JvbGxgIGF0dHJpYnV0ZSB2YWx1ZSBldmFsdWF0ZWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgYXMgYW4gZXhwcmVzc2lvbiB5aWVsZHMgYSB0cnV0aHkgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nVmlldy1kaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1ZpZXdFeGFtcGxlXCJcbiAgICAgZGVwcz1cImFuZ3VsYXItcm91dGUuanM7YW5ndWxhci1hbmltYXRlLmpzXCJcbiAgICAgYW5pbWF0aW9ucz1cInRydWVcIiBmaXhCYXNlPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ3RybCBhcyBtYWluXCI+XG4gICAgIENob29zZTpcbiAgICAgPGEgaHJlZj1cIkJvb2svTW9ieVwiPk1vYnk8L2E+IHxcbiAgICAgPGEgaHJlZj1cIkJvb2svTW9ieS9jaC8xXCI+TW9ieTogQ2gxPC9hPiB8XG4gICAgIDxhIGhyZWY9XCJCb29rL0dhdHNieVwiPkdhdHNieTwvYT4gfFxuICAgICA8YSBocmVmPVwiQm9vay9HYXRzYnkvY2gvND9rZXk9dmFsdWVcIj5HYXRzYnk6IENoNDwvYT4gfFxuICAgICA8YSBocmVmPVwiQm9vay9TY2FybGV0XCI+U2NhcmxldCBMZXR0ZXI8L2E+PGJyLz5cblxuICAgICA8ZGl2IGNsYXNzPVwidmlldy1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3LWFuaW1hdGVcIj48L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgIDxociAvPlxuXG4gICAgIDxwcmU+JGxvY2F0aW9uLnBhdGgoKSA9IHt7bWFpbi4kbG9jYXRpb24ucGF0aCgpfX08L3ByZT5cbiAgICAgPHByZT4kcm91dGUuY3VycmVudC50ZW1wbGF0ZVVybCA9IHt7bWFpbi4kcm91dGUuY3VycmVudC50ZW1wbGF0ZVVybH19PC9wcmU+XG4gICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQucGFyYW1zID0ge3ttYWluLiRyb3V0ZS5jdXJyZW50LnBhcmFtc319PC9wcmU+XG4gICAgIDxwcmU+JHJvdXRlUGFyYW1zID0ge3ttYWluLiRyb3V0ZVBhcmFtc319PC9wcmU+XG4gICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cImJvb2suaHRtbFwiPlxuICAgICA8ZGl2PlxuICAgICBjb250cm9sbGVyOiB7e2Jvb2submFtZX19PGJyIC8+XG4gICAgIEJvb2sgSWQ6IHt7Ym9vay5wYXJhbXMuYm9va0lkfX08YnIgLz5cbiAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwiY2hhcHRlci5odG1sXCI+XG4gICAgIDxkaXY+XG4gICAgIGNvbnRyb2xsZXI6IHt7Y2hhcHRlci5uYW1lfX08YnIgLz5cbiAgICAgQm9vayBJZDoge3tjaGFwdGVyLnBhcmFtcy5ib29rSWR9fTxiciAvPlxuICAgICBDaGFwdGVyIElkOiB7e2NoYXB0ZXIucGFyYW1zLmNoYXB0ZXJJZH19XG4gICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgIC52aWV3LWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgICBoZWlnaHQ6MTAwcHghaW1wb3J0YW50O1xuICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICAgIH1cblxuICAgICAudmlldy1hbmltYXRlIHtcbiAgICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgIH1cblxuICAgICAudmlldy1hbmltYXRlLm5nLWVudGVyLCAudmlldy1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDEuNXM7XG5cbiAgICAgICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6MXB4IHNvbGlkIGJsYWNrO1xuXG4gICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgdG9wOjA7XG4gICAgICAgICAgbGVmdDowO1xuICAgICAgICAgIHJpZ2h0OjA7XG4gICAgICAgICAgYm90dG9tOjA7XG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgICB9XG5cbiAgICAgLnZpZXctYW5pbWF0ZS5uZy1lbnRlciB7XG4gICAgICAgICAgbGVmdDoxMDAlO1xuICAgICAgICB9XG4gICAgIC52aWV3LWFuaW1hdGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgICBsZWZ0OjA7XG4gICAgICAgIH1cbiAgICAgLnZpZXctYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICAgIGxlZnQ6LTEwMCU7XG4gICAgICAgIH1cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlld0V4YW1wbGUnLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJ10pXG4gICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsXG4gICAgIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAgICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgICAgIC53aGVuKCcvQm9vay86Ym9va0lkJywge1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdib29rLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Jvb2tDdHJsJyxcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Jvb2snXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZC9jaC86Y2hhcHRlcklkJywge1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjaGFwdGVyLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NoYXB0ZXJDdHJsJyxcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXB0ZXInXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAgIH1dKVxuICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBbJyRyb3V0ZScsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJyxcbiAgICAgZnVuY3Rpb24gTWFpbkN0cmwoJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLiRyb3V0ZSA9ICRyb3V0ZTtcbiAgICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgICAgICAgIHRoaXMuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zO1xuICAgICAgICAgIH1dKVxuICAgICAuY29udHJvbGxlcignQm9va0N0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uIEJvb2tDdHJsKCRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gJ0Jvb2tDdHJsJztcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gJHJvdXRlUGFyYW1zO1xuICAgICAgICAgIH1dKVxuICAgICAuY29udHJvbGxlcignQ2hhcHRlckN0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uIENoYXB0ZXJDdHJsKCRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gJ0NoYXB0ZXJDdHJsJztcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gJHJvdXRlUGFyYW1zO1xuICAgICAgICAgIH1dKTtcblxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICBpdCgnc2hvdWxkIGxvYWQgYW5kIGNvbXBpbGUgY29ycmVjdCB0ZW1wbGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkubGlua1RleHQoJ01vYnk6IENoMScpKS5jbGljaygpO1xuICAgICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXI6IENoYXB0ZXJDdHJsLyk7XG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWQ6IE1vYnkvKTtcbiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQ2hhcHRlciBJZDogMS8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5wYXJ0aWFsTGlua1RleHQoJ1NjYXJsZXQnKSkuY2xpY2soKTtcblxuICAgICAgICAgIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTtcbiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlcjogQm9va0N0cmwvKTtcbiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZDogU2NhcmxldC8pO1xuICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgICA8L2V4YW1wbGU+XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAqIEBuYW1lIG5nVmlldyMkdmlld0NvbnRlbnRMb2FkZWRcbiAgICAgKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdWaWV3IHNjb3BlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ1ZpZXcgY29udGVudCBpcyByZWxvYWRlZC5cbiAgICAgKi9cbiAgICBuZ1ZpZXdGYWN0b3J5LiRpbmplY3QgPSBbJyRyb3V0ZScsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJ107XG4gICAgZnVuY3Rpb24gbmdWaWV3RmFjdG9yeSgkcm91dGUsICRhbmNob3JTY3JvbGwsICRhbmltYXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICAgICAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiA0MDAsXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIG9ubG9hZEV4cCA9IGF0dHIub25sb2FkIHx8ICcnO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFudXBMYXN0VmlldygpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzTGVhdmVBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9ICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb24uZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gZmFsc2UpIHByZXZpb3VzTGVhdmVBbmltYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhbHMgPSAkcm91dGUuY3VycmVudCAmJiAkcm91dGUuY3VycmVudC5sb2NhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGxvY2FscyAmJiBsb2NhbHMuJHRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLXZpZXcgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgdXNpbmcgbmctdmlldyBvbiBhbiBlbGVtZW50IHdpdGggYWRkaXRpb25hbCBjb250ZW50IGRvZXMgbm90IG1ha2Ugc2Vuc2UuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlcyB0byBub24gZXhpc3RpbmcgZWxlbWVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgY3VycmVudEVsZW1lbnQgfHwgJGVsZW1lbnQpLmRvbmUoZnVuY3Rpb24gb25OZ1ZpZXdFbnRlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudC5zY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckdmlld0NvbnRlbnRMb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZXZhbChvbmxvYWRFeHApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cExhc3RWaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdWaWV3YCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ1ZpZXdcbi8vIGlzIGNhbGxlZC5cbiAgICBuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkuJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJGNvbnRyb2xsZXInLCAnJHJvdXRlJ107XG4gICAgZnVuY3Rpb24gbmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5KCRjb21waWxlLCAkY29udHJvbGxlciwgJHJvdXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICAgICAgICBwcmlvcml0eTogLTQwMCxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FscyA9IGN1cnJlbnQubG9jYWxzO1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuaHRtbChsb2NhbHMuJHRlbXBsYXRlKTtcblxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2Fscy4kc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcihjdXJyZW50LmNvbnRyb2xsZXIsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY3VycmVudC5jb250cm9sbGVyQXNdID0gY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlW2N1cnJlbnQucmVzb2x2ZUFzIHx8ICckcmVzb2x2ZSddID0gbG9jYWxzO1xuXG4gICAgICAgICAgICAgICAgbGluayhzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpOyJdfQ==
